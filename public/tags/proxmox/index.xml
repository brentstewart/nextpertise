<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Proxmox on </title>
    <link>https://www.nextpertise.net/tags/proxmox/</link>
    <description>Recent content in Proxmox on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 19 Feb 2022 15:37:06 -0500</lastBuildDate>
    
        <atom:link href="https://www.nextpertise.net/tags/proxmox/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Problems with Proxmox VE</title>
      <link>https://www.nextpertise.net/posts/220219_proxmox/</link>
      <pubDate>Sat, 19 Feb 2022 15:37:06 -0500</pubDate>
      
      <guid>https://www.nextpertise.net/posts/220219_proxmox/</guid>
      <description>&lt;p&gt;Look, I know you&amp;rsquo;re reading this, but sometimes I write these posts for myself.  To remind myself of how I built or repaired something.  This is one of those posts.&lt;/p&gt;
&lt;p&gt;My home server ran VMWare ESXi for a long time.  I had trouble upgrading it from 6.5 and I was intrigued by Proxmox VE and putting my home network more firmly in the open source camp.  I&amp;rsquo;ve been running Proxmox VE 7.1 for a while now.&lt;/p&gt;
&lt;h2 id=&#34;quick-review-of-pve&#34;&gt;Quick review of PVE&lt;/h2&gt;
&lt;p&gt;My experience with PVE has been mixed.  VMWare hid a lot of it&amp;rsquo;s Linux base, where PVE is like an opinionated distro aimed at virtualization.  With PVE, you are definitely administering a debian derivitive box.  PVE will host VMs and also does OS-level containers, which is an interesting take and seems to conserve processor.  I implemented my internal servers this way and it&amp;rsquo;s indistinguishable from a full VM in terms of use    .&lt;/p&gt;
&lt;p&gt;Probably the biggest &amp;ldquo;issue&amp;rdquo; is that I use VMWare Workstation to have a Windows VM on my Linux machine.  Workstation was a pretty good front-end for ESXi and you could migrate loads between the two.  Obviously, that use case is out the window now.&lt;/p&gt;
&lt;p&gt;Generally, PVE runs as good as or better than ESXi.  However, on the occassion that something goes sideways you are combing through blog posts and support forums (assuming you don&amp;rsquo;t have a subscription, which I don&amp;rsquo;t for home).  I like that the things I learn in PVE are transferable to Linux and vice versa, but I wouldn&amp;rsquo;t make PVE your first experience with Linux.&lt;/p&gt;
&lt;h2 id=&#34;back-to-the-show&#34;&gt;Back to the show&lt;/h2&gt;
&lt;p&gt;Power went out at the house the other night and the VMs (actually OS-level containers, but that&amp;rsquo;s arduous to say and if I abbreviate it OSLC no one will know what I&amp;rsquo;m nattering on about) storage had an issue.  When PVE tried to load those volumes it gave an error &lt;em&gt;&amp;ldquo;activating LV &amp;lsquo;pve/data&amp;rsquo; failed: Activation of logical volume pve/data is prohibited while logical volume pve/data_tmeta is active. (500)&amp;quot;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I tried several approaches to resolve this.  You can see the error from the PVE command line via &lt;strong&gt;lsblk&lt;/strong&gt;.  What actually worked was to make the interfering volumes inactive. Seems obvious, but I needed the command &lt;strong&gt;vgchange&lt;/strong&gt;.  As a note, after I deactivated &lt;em&gt;tmeta&lt;/em&gt; I got an error because &lt;em&gt;tdata&lt;/em&gt; was active so I had to deactivate that as well.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#deactivate the offending volume
lvchange -an pve/data_tmeta
##activate the expected volumes
vgchange -ay
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So this post is a note to myself for the next time.  Hopefully it&amp;rsquo;s helpful to you as well.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
