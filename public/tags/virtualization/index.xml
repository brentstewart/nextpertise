<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Virtualization on </title>
    <link>http://localhost:1313/tags/virtualization/</link>
    <description>Recent content in Virtualization on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 08 Oct 2025 10:00:18 -0500</lastBuildDate>
    
        <atom:link href="http://localhost:1313/tags/virtualization/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Running GNS3 on Proxmox VE</title>
      <link>http://localhost:1313/gns3_proxmox/</link>
      <pubDate>Wed, 08 Oct 2025 10:00:18 -0500</pubDate>
      
      <guid>http://localhost:1313/gns3_proxmox/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m running GNS3 on Proxmox.  &lt;a href=&#34;http://localhost:1313/posts/210421_gns3_attached_to_esxi/&#34;&gt;GNS3 on ESXi&lt;/a&gt; is fairly straight forward, but there are some tweaks needed to support Proxmox.&lt;/p&gt;
&lt;h2 id=&#34;disk-format&#34;&gt;Disk Format&lt;/h2&gt;
&lt;p&gt;Proxmox virtualization is Qemu-based and the &lt;a href=&#34;https://gns3.com/software/download-vm&#34;&gt;GNS3 VM&lt;/a&gt; is distributed for VirtualBox, VMWare Workstation, VMWare ESXi, and Hyper-V.  I&amp;rsquo;ve worked around that by running GNS3 in VMWare Workstation, but I&amp;rsquo;ve run into some issues with Workstation causing my machine to &amp;ldquo;freeze&amp;rdquo; so I got interested in moving the GNS3 VM to my virtualization host.  A little poking around found that other people have been successful with this and provided some ideas.&lt;/p&gt;
&lt;h2 id=&#34;how-to-run-gns3-vm-on-proxmox-ve&#34;&gt;How to run GNS3 VM on Proxmox VE&lt;/h2&gt;
&lt;p&gt;Nothing stands still, so before we get into instructions I&amp;rsquo;ll date this article.  This was originally written in January, 2023, and updated in October, 2025.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The first step is to &lt;a href=&#34;https://gns3.com/software/download-vm&#34;&gt;download&lt;/a&gt; the VMware ESXi GNS3 VM.&lt;/li&gt;
&lt;li&gt;The downloaded file is a ZIP, which expands out to an OVA.  OVA is really just another ZIP, so expanding that out gives you two VMDK virtual disks, a manifest(MF) file and an OVF file.  The OVF provides information about the virtual hardware environment and the manifest has the hashes of all the files in the OVA.  We&amp;rsquo;re only interested in the two VMDK files (GNS3_VM-disk1.vmdk and GNS3_VM-disk2.vmdk).  You can expand these out using most file managers of via the command line.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;    tar xvf GNS3_VM.ova
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Upload the VMDK files to Proxmox.  In the &lt;em&gt;root&lt;/em&gt; home directory, I created an &lt;em&gt;import&lt;/em&gt; subdirectory for the files.  This is very easy to do with Filezilla or from the command line.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;    # sftp brent@server
    sftp&amp;gt; cd import
    sftp&amp;gt; put GNS3_VM-disk1.vmdk
    sftp&amp;gt; put GNS3_VM-disk2.vmdk
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;
&lt;p&gt;Create a new Qemu VM in Proxmox by clicking the &amp;ldquo;Create VM&amp;rdquo; button in the upper right of the management page. &lt;img src=&#34;http://localhost:1313/230121-createvm.png&#34; alt=&#34;Create VM&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can accept the defaults on the General tab.  Under OS, steup the VM without any media.
&lt;img src=&#34;http://localhost:1313/230121-PVEnomedia.png#center&#34; alt=&#34;No Media&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Accept defaults on the System tab and Disks tab.  I set my VM to use 4 processors (2 sockets, 2 cores each) and set the default memory to 16GB.  I didn&amp;rsquo;t see a lot of guidance on this, so that was a SWAG.  Note the ID (105 in my case).
&lt;img src=&#34;http://localhost:1313/230121-GNS3VM.png#center&#34; alt=&#34;GNS3 VM&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;After the VM is created, select the VM, go to the Hardware section, and select the disk.  Click Detach and then Remove from the menu bar.
&lt;img src=&#34;http://localhost:1313/230121-PVErmove.png#center&#34; alt=&#34;Remove disk&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Import the VMDK disks into Proxmox.  SSH into the host and use the &lt;strong&gt;qm&lt;/strong&gt; command to convert the disk to QCOW2 format and import it for use.  Change the machine ID (105 is my GNS3 VM) and make sure the VMDK file name matches before running the command below.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;    root@pve:~/import# qm importdisk 105 GNS3_VM-disk1.vmdk local-lvm -format qcow2
    importing disk &amp;#39;GNS3_VM-disk1.vmdk&amp;#39; to VM 105 ...
    Logical volume &amp;#34;vm-105-disk-0&amp;#34; created.
    transferred 0.0 B of 19.5 GiB (0.00%)
    transferred 200.0 MiB of 19.5 GiB (1.00%)
    transferred 400.0 MiB of 19.5 GiB (2.00%)
    ...
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;
&lt;p&gt;Attach the QCOW2 images to your VM using the Add button.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Go to the Proxmox admin page, select the VM, select options, and set the boot order.  Double-click the boot Order line and a window will appear to allow you to drag the disk into the correct order.  Disk1, the smaller of the two images, should be enabled and the boot drive.
&lt;img src=&#34;http://localhost:1313/230121-PVEboot.png#center&#34; alt=&#34;Boot order&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can also use another tweak: Go into Hardware and double-clicked the Network Device to put the device into a VLAN by setting the tag.
&lt;img src=&#34;http://localhost:1313/230121-PVEnet.png#center&#34; alt=&#34;Networking&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Start the VM.  GNS3 started up in the correct VLAN and grabbed a DHCP address.  Opening a console, the boot screen of the VM shows the IP address assigned.  Accessing this address from a browser will provide the GNS3 web console.  You can also use this address in the GNS3 front-end to identify the back-end server.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Proxmox</title>
      <link>http://localhost:1313/proxmox/</link>
      <pubDate>Mon, 06 Oct 2025 21:24:58 -0400</pubDate>
      
      <guid>http://localhost:1313/proxmox/</guid>
      <description>&lt;h2 id=&#34;proxmox-virtual-edition-pve&#34;&gt;Proxmox Virtual Edition (PVE)&lt;/h2&gt;
&lt;p&gt;PVE is a hypervisor that supports LXC containers and full virtual machines.  It&amp;rsquo;s comparable to VMWare ESXi.  The comparison fits across the board.  There&amp;rsquo;s a Proxmox DataCenter Manager that&amp;rsquo;s similar to VMWare Cloud Director (VCD), and it supports a similar set of features such as high availability failover.&lt;/p&gt;
&lt;p&gt;The current version is 9 (as of 10/25), but my experience has been poor when attempting to upgrade.  As a result I recommend v8 for the time being.  I also recommend running Proxmox Backup - the closest VMWare comparable might be Zerto.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve been using PVE for a several years and I&amp;rsquo;ve been pretty pleased with it.  I run a virtualization server at home for a few reasons.  VMs have been a way to break apps out into seperate environments, making self-hosting easier.  Second, I support virtual environments and wanted to use my home network to get hands-on time.&lt;/p&gt;
&lt;p&gt;Originally, I used a free version of VMWare but VMWare was purchased by Broadcom.  They halted the free version for a while and haven&amp;rsquo;t proven to be transparent in their approach to licensing, plus the server hardware I was using died, so it made sense to explore alternatives.  Proxmox VE had a lot of the capabilities, plus the Linux underpinnings were much more obvious (which supported another direction I was heading).  The PVE environment has been mostly good and I&amp;rsquo;ve never had an issue that I couldn&amp;rsquo;t recover from (similar to what you&amp;rsquo;d expect running ESXi).&lt;/p&gt;
&lt;h2 id=&#34;managing-vms&#34;&gt;Managing VMs&lt;/h2&gt;
&lt;p&gt;Proxmox allows the administrator to attach to a VM using lxc-attach.  The session is logged in as root.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;lxc-attach -n &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is extremely useful - for instance, it could be used to reset a lost administrator password!&lt;/p&gt;
&lt;h2 id=&#34;proxmox-backup-server&#34;&gt;Proxmox Backup Server&lt;/h2&gt;
&lt;p&gt;PBS has saved my bacon several times.  It&amp;rsquo;s a &amp;ldquo;must&amp;rdquo; when running PVE because it&amp;rsquo;s an easy way to backup VMs.&lt;/p&gt;
&lt;p&gt;Follow a 3-2-1 strategy for backups - at least 3 copies, at least two media types, at least one offline.  The original data is the first copy and PBS is the second &lt;em&gt;as long as the PBS VM sits on a seperate server&lt;/em&gt;.  I recommend Backblaze as a third offsite copy.&lt;/p&gt;
&lt;p&gt;You should absolutely review the files that are being backed up to make sure that they include all of the correct files.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s also a rule, call it &lt;em&gt;Brent&amp;rsquo;s Law of DR&lt;/em&gt;, that untested disaster recovery never works.  You should do a test restore periodically.  This might be restoring just a sample file, or restoring an entire VM.  Testing the restore process ensures both that the backup is &lt;em&gt;really&lt;/em&gt; working and that you remember the steps necessary to invoke a restore.&lt;/p&gt;
&lt;h3 id=&#34;pbs-setup&#34;&gt;PBS Setup&lt;/h3&gt;
&lt;p&gt;Setting up PBS is about as difficult as setting up PVE.  If you did the one, the other will not be a problem.  The documentation is good, but takes some time to read so here&amp;rsquo;s a quick walkthrough of the actions you&amp;rsquo;ll need to take.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Download and install PBS on a new machine.  I&amp;rsquo;m using an old NUC with a 5TB drive.  &lt;a href=&#34;https://www.proxmox.com/en/downloads&#34;&gt;Download&lt;/a&gt; the image and throw it on &lt;a href=&#34;http://localhost:1313/posts/210911_distrohoppingwventoy/&#34;&gt;Ventoy&lt;/a&gt;!  This is an easy and obvious setup, so I won&amp;rsquo;t walk you through clicking &amp;ldquo;next&amp;rdquo;.
&lt;div class=&#34;admonition danger&#34;&gt;
    &lt;div class=&#34;title&#34;&gt;Danger!&lt;/div&gt;
    &lt;div class=&#34;content&#34;&gt;Don&amp;rsquo;t install PBS on the PVE it&amp;rsquo;s backing up!  If your Virtual enviroment fails, you don&amp;rsquo;t want it to take backups with it!  If you don&amp;rsquo;t have a suitable old PC, consider a 1L PC based on the modern Celeron.&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;When the process is complete, you can administer PBS from https://BACKUPSERVER:8007.  Login as root and the password you chose during setup.&lt;/li&gt;
&lt;li&gt;Setup a Datastore on PBS.  &amp;ldquo;Add Datastore&amp;rdquo; is found under Datastore on the Proxmox menu.  This will make a local path available for backup use.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/240204_pbsdatastore.png#center&#34; alt=&#34;PBS Datastore Setup&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;
&lt;p&gt;Setup Pruning to keep the latest backups.  This setup mostly comes down to the crossing point of your budget, paranoia, and available space.  You can specify the number of backups to keep over various timeframes, such as days, weeks, months, and years.  I backup weekly and want to keep a couple backups, but I also keep monthlys as well in case I realize later that I need a restore.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Get the &amp;ldquo;fingerprint&amp;rdquo; using the big &amp;ldquo;show Fingerprint&amp;rdquo; button on the dashboard.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;pve-setup-to-use-pbs&#34;&gt;PVE Setup to use PBS&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/240204_pbssetup.png#floatright&#34; alt=&#34;PBS setup in PVE&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Back in the PVE environment, go to the server view and select DataCenter &amp;gt; Storage.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click Add and choose Proxmox Backup Server from the drop-down menu.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Give the backup server an ID and enter in it&amp;rsquo;s IP address.  Use &lt;em&gt;root@pam&lt;/em&gt; as the username, the password you set on PBS and then supply the datastore setup in Step 3 above.  Here&amp;rsquo;s where you&amp;rsquo;ll need to paste in the fingerprint from PBS.  This is also the place where you can fiddle with retention and encryption if needed.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;setup-backups&#34;&gt;Setup Backups&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/240204_automated_pbs.png#floatsmallleft&#34; alt=&#34;PBS Job setup&#34;&gt;&lt;/p&gt;
&lt;p&gt;The simple way to backup a VM at this point is just to select a VM and choose &amp;ldquo;Backup&amp;rdquo;.  No one remembers to do backups though, so the key is to have them happen automatically.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Still under Datacenter, choose backup and &lt;strong&gt;Add&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To backup all VMs from all PVE instances weekly, use the following settings:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Node &lt;strong&gt;&amp;ndash;All &amp;ndash;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Storage &lt;strong&gt;pbs&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Schedule &lt;strong&gt;sun 01:00&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Selection: &lt;strong&gt;Include selected VMs&lt;/strong&gt; or &lt;strong&gt;All&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Send email: &lt;strong&gt;Always&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Send email to:  &lt;em&gt;you@yourdomain.tld&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Mode: &lt;strong&gt;Stop&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At this point, weekly backups should start flowing in.  PBS will deduplicate and make very efficient use of space, so even a 4TB backup drive has been fine for me.&lt;/p&gt;
&lt;h3 id=&#34;restore-a-file&#34;&gt;Restore a file&lt;/h3&gt;
&lt;p&gt;Restores are conducted from the PVE admin screen (http://your-pve-server:8006).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/240210_pbs_screen.png&#34; alt=&#34;PBS Restore Admin Screen&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Under the  Server View Datacenter heading, go to the target server and select the Proxmox Backup Server storage.  Mine is called &lt;em&gt;pbs&lt;/em&gt; in the screenshot.  Because it&amp;rsquo;s attached to the datacenter, that storage shows up under every server.  It&amp;rsquo;s the same thing, so for file recovery just pick a server to work through.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pick the backup that has the file  you&amp;rsquo;d like to restore.  Depending on the backup policy you specified, there will be several copies over a period of time.  If you&amp;rsquo;re restoring because you borked the config last week, for instance, you may need to go back two weeks to find a working copy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once you&amp;rsquo;ve found your target, select File Restore.  I know, kind of obvious.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;This opens a file viewer that lets you burrow into directories to find your file.  Once selected, choose the Download button to get the file.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;restore-a-vm&#34;&gt;Restore a VM&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Under the  Server View Datacenter heading, go to the target server and select the Proxmox Backup Server storage.  Mine is called &lt;em&gt;pbs&lt;/em&gt; in the screenshot.  Because it&amp;rsquo;s attached to the datacenter, that storage shows up under every server and so I&amp;rsquo;m selecting the one under the server that I want to restore to.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pick the backup you&amp;rsquo;d like to restore.  Again, there will probably be several copies.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once you&amp;rsquo;ve found your target, select Restore.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you restore, you can select the target PVE instance, the storage on that PVE you want to use, and the VM ID.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You can restore it to the existing server, using the existing VM ID, and overwrite the current copy.  You can also choose to restore it to a different ID so that there&amp;rsquo;s a second copy.  That could be useful if you&amp;rsquo;re trying to clone a setup.&lt;/p&gt;
&lt;h2 id=&#34;final-notes&#34;&gt;Final Notes&lt;/h2&gt;
&lt;p&gt;The process of setting this up isn&amp;rsquo;t too confusing.  I find the Proxmox interface takes a little time to develop an intuitive feel, but it&amp;rsquo;s consistent and mades sense.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Anonymous Browsing</title>
      <link>http://localhost:1313/230405_anonymous/</link>
      <pubDate>Wed, 05 Apr 2023 22:04:50 -0400</pubDate>
      
      <guid>http://localhost:1313/230405_anonymous/</guid>
      <description>&lt;p&gt;What is the best way to be truly anonymous online?  Most of the time our concern is about being commercially tracked and having our browsing habits shared (I understand this doesn&amp;rsquo;t creep everyone out as much as it does me).  My kids think I&amp;rsquo;m paranoid.  Just for fun, take a look at &lt;a href=&#34;https://amiunique.org&#34;&gt;Am I Unique&lt;/a&gt; and browse through all the different data points that are shared by your browser and can be used to cross-reference and track you.  Even paranoid people have enemies.
&lt;img src=&#34;http://localhost:1313/230407_amiunique.png#floatleft&#34; alt=&#34;Am I unique?&#34;&gt;&lt;/p&gt;
&lt;p&gt;My personal summary from &lt;strong&gt;Am I Unique?&lt;/strong&gt; is shown to the left.  Just like Mom said, I&amp;rsquo;m one in a million.&lt;/p&gt;
&lt;p&gt;Sometimes our need for anonymity goes beyond shielding our selves from spam.  When the stakes are higher, revealing an identity could impact a job or put lives in danger.  Many people depend on this type of anonymity to circumvent hostile governments or to leak important stories to reporters.&lt;/p&gt;
&lt;h2 id=&#34;recipe-for-anonymity&#34;&gt;Recipe for Anonymity&lt;/h2&gt;
&lt;p&gt;Here&amp;rsquo;s a quick description of how you might approach trying to safeguard your identity.  This will guide you through installing Tails.  Tails is a standalone operating system that allows browsing through TOR.  The machine is clean, so nothing leaks to identify you, the OS is scrubbed every time you boot, the browser is locked down, and TOR passes your traffic through a series of other computers (&amp;ldquo;nodes&amp;rdquo;) to obscure your source address.&lt;/p&gt;
&lt;div class=&#34;admonition danger&#34;&gt;
    &lt;div class=&#34;title&#34;&gt;Danger&lt;/div&gt;
    &lt;div class=&#34;content&#34;&gt;&lt;p&gt;This kind of concern means that the authorities are either unconcerned or hostile to your situation.  I am praying for you!&lt;/p&gt;
&lt;p&gt;Don&amp;rsquo;t trust my advice!  I have a reasonable level of expertise, but I don&amp;rsquo;t do this for a living.  My advice is a good starting point, but technology is constantly changing and this may be old when you read it.&lt;/p&gt;
&lt;p&gt;I believe Tails by itself is sufficient against non-Nation-State actors.  Especially if you have that level of concern, maintain a sense of paranoia and protect yourself in multiple layers.  For instance, use this post as a starting point but load the USB stick from a computer in a random location that can&amp;rsquo;t be associated to you.  In all cases, continue to research best practice!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Tails can be installed via USB.  If you are in serious danger, this is the best way.  You can then take the USB to any computer, boot up from the USB, and further obscure your source.
&lt;div class=&#34;admonition danger&#34;&gt;
    &lt;div class=&#34;title&#34;&gt;Danger&lt;/div&gt;
    &lt;div class=&#34;content&#34;&gt;Tails doesn&amp;rsquo;t protect against stupidity.  Don&amp;rsquo;t login anywhere or take other actions that may identify you while using Tails.  Also, remember that browser crumbs are only one way that someone could be identified.  Cameras, visitor logs, and phone GPS are examples of other ways you could be tied to a location at a specific time.&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h3 id=&#34;setting-up-tails&#34;&gt;Setting up Tails&lt;/h3&gt;
&lt;p&gt;In this exercise, I&amp;rsquo;m going to walk through installing Tails in a VM on Linux, which may be sufficient for run-of-the-mill situations.&lt;/p&gt;
&lt;p&gt;First, install KVM.  The commands below apply for debian-derived systems like Ubuntu, Mint, or Pop!_OS.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo apt install qemu-kvm libvirt-daemon-system
sudo adduser $USER libvirt
sudo apt install virt-manager
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, download the &lt;a href=&#34;https://tails.boum.org/install/dvd/index.en.html&#34;&gt;Tails ISO&lt;/a&gt; or an &lt;a href=&#34;https://tails.boum.org/install/download/&#34;&gt;IMG file&lt;/a&gt; which is easier to write to USB.  I&amp;rsquo;d use &lt;a href=&#34;https://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=&amp;amp;esrc=s&amp;amp;source=web&amp;amp;cd=&amp;amp;cad=rja&amp;amp;uact=8&amp;amp;ved=2ahUKEwio88TRvZr-AhVXIUQIHej7AqwQFnoECCAQAQ&amp;amp;url=https%3A%2F%2Fwww.balena.io%2Fetcher&amp;amp;usg=AOvVaw0UNPm_qcksmQ1aL8D-5gLD&#34;&gt;Etcher&lt;/a&gt; to write to disk, but if you haven&amp;rsquo;t done that part before the Tails website has installation &lt;a href=&#34;https://tails.boum.org/install/index.en.html&#34;&gt;instructions&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you want to install on a VM, run the Virtual Machine Manager and create a new machine.  The device I setup had the following settings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Generic Linux 2020&lt;/li&gt;
&lt;li&gt;2 vCPU, 8 GB RAM (I think you just need 4)&lt;/li&gt;
&lt;li&gt;Boot options - boot from SATA CDROM&lt;/li&gt;
&lt;li&gt;SATA CDROM - mapped to the Tails ISO in my download directory&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Start the VM.  The VM window will &amp;ldquo;capture&amp;rdquo; your mouse and keyboard - to break out and back to your host machine press the right Win and Ctrl keys.  It will boot to a welcome.  You may want to set some additional parameters (these will only apply until the next boot).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/230407_tailsadditionalsettings.png#floatsmallright&#34; alt=&#34;Additional Settings&#34;&gt;&lt;/p&gt;
&lt;p&gt;Under Additional settings, choose the plus and set an Administrative password.  This only applies to the session.  The &amp;ldquo;Unsafe Browser&amp;rdquo; option allows you to sign into a captive portal.  Again, that&amp;rsquo;s another way to identify you so I would just pick another place to connect and turn that off.&lt;/p&gt;
&lt;p&gt;Choose &amp;ldquo;start Tails&amp;rdquo; to move into a Gnome desktop.  It will prompt you to start Tor first thing.  You can tell it to connect automatically or &amp;ldquo;Hide to my local network that I&amp;rsquo;m connecting to Tor&amp;rdquo;.  The latter choice requires identifying and connecting to a Tor bridge manually.  You&amp;rsquo;ll be prompted to email &lt;a href=&#34;mailto:bridges@torproject.org&#34;&gt;bridges@torproject.org&lt;/a&gt; and they&amp;rsquo;ll help you find a discrete way to connect.&lt;/p&gt;
&lt;h3 id=&#34;specifying-tor-exit-node&#34;&gt;Specifying Tor Exit Node&lt;/h3&gt;
&lt;p&gt;One problem that you may encounter is that the site you are trying to contact blocks connections from other countries.  Since Tor will give you a random exit node, there&amp;rsquo;s a good chance your traffic will appear to be coming from somewhere else on the globe.  My first test put me in Germany, for instance.&lt;/p&gt;
&lt;p&gt;If you want to force Tor to exit your traffic in a particular country, open a terminal in Tails and edit the tor configuration file.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo nano /etc/tor/torrc
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Add these lines to the end of the config file to force traffic to exit in the US.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ExitNodes {us}
StrictNodes 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I&amp;rsquo;ve included a table of exit codes at the end of this document to help you find the appropriate country.&lt;/p&gt;
&lt;h3 id=&#34;browserling&#34;&gt;Browserling&lt;/h3&gt;
&lt;p&gt;For an extra level of obscurity, use &lt;a href=&#34;https://www.browserling.com/&#34;&gt;Browserling&lt;/a&gt;.  Browserling is a site that will give you a web browser in a Windows VM to test your website.  You can also use this to create another level of difficulty to tracing the connection back.  Use Tor to connect to browserling, which will spin up a temporary VM (it will take a minute).  It&amp;rsquo;s meant for testing web pages and will only be available to you for a couple minutes, so you might want to prep what you want to send in a text editor and then copy and paste it over.&lt;/p&gt;
&lt;h2 id=&#34;final-note&#34;&gt;Final Note&lt;/h2&gt;
&lt;p&gt;I hope you don&amp;rsquo;t need this, but if you do I wish you the best.  Hopefully this will give you some ideas where to look and how to protect yourself!&lt;/p&gt;
&lt;h2 id=&#34;for-reference----tor-country-codes&#34;&gt;For Reference -  Tor country codes&lt;/h2&gt;




     
    
    
     







&lt;table class=&#34;table table-responsive table-hover&#34;&gt;
&lt;caption&gt;Table of Tor Country Codes&lt;/caption&gt;
&lt;thead class=&#34;table-info&#34;&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Country&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Code&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Country&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Code&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ascension Island&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ac}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Afghanistan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Af}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Aland&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ax}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Albania&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Al}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Algeria&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Dz}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Andorra&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ad}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Angola&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ao}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Anguilla&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ai}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Antarctica&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Aq}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Antigua And Barbuda&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ag}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Argentina Republic&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ar}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Armenia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Am}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Aruba&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Aw}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Australia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Au}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Austria&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{At}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Azerbaijan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Az}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Bahamas&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bs}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Bahrain&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bh}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Bangladesh&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bd}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Barbados&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bb}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Belarus&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{By}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Belgium&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Be}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Belize&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bz}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Benin&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bj}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Bermuda&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bm}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Bhutan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bt}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Bolivia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bo}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Bosnia And Herzegovina&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ba}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Botswana&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bw}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Bouvet Island&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bv}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Brazil&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Br}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;British Indian Ocean Terr&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Io}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;British Virgin Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Vg}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Brunei Darussalam&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bn}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Bulgaria&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bg}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Burkina Faso&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bf}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Burundi&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Bi}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cambodia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Kh}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Cameroon&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cm}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Canada&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ca}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Cape Verde&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cv}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cayman Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ky}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Central African Republic&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cf}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Chad&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Td}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Chile&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cl}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;People&amp;rsquo;s Republic Of China&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cn}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Christmas Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cx}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cocos Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cc}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Colombia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Co}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Comoras&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Km}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Congo&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cg}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Congo (Democratic Republic)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cd}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Cook Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ck}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Costa Rica&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cr}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Cote D Ivoire&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ci}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Croatia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Hr}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Cuba&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cu}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Cyprus&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cy}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Czech Republic&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Cz}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Denmark&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Dk}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Djibouti&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Dj}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Dominica&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Dm}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Dominican Republic&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Do}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;East Timor&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tp}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ecuador&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ec}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Egypt&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Eg}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;El Salvador&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sv}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Equatorial Guinea&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gq}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Estonia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ee}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ethiopia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Et}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Falkland Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Fk}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Faroe Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Fo}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Fiji&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Fj}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Finland&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Fi}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;France&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Fr}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;France Metropolitan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Fx}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;French Guiana&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gf}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;French Polynesia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pf}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;French Southern Territories&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tf}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Gabon&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ga}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Gambia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gm}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Georgia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ge}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Germany&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{De}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ghana&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gh}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Gibralter&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gi}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Greece&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gr}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Greenland&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gl}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Grenada&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gd}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Guadeloupe&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gp}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Guam&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gu}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Guatemala&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gt}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Guinea&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gn}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Guinea-Bissau&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gw}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Guyana&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gy}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Haiti&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ht}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Heard-Mcdonald Island&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Hm}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Honduras&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Hn}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Hong Kong&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Hk}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Hungary&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Hu}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Iceland&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Is}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;India&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{In}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Indonesia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Id}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Iran, Islamic Republic Of&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ir}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Iraq&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Iq}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ireland&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ie}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Isle Of Man&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Im}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Israel&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Il}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Italy&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{It}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Jamaica&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Jm}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Japan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Jp}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Jordan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Jo}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Kazakhstan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Kz}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Kenya&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ke}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Kiribati&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ki}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Korea, Dem. Peoples Rep Of&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Kp}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Korea, Republic Of&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Kr}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Kuwait&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Kw}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Kyrgyzstan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Kg}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Lao People&amp;rsquo;s Dem. Republic&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{La}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Latvia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Lv}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Lebanon&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Lb}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Lesotho&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ls}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Liberia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Lr}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Libyan Arab Jamahiriya&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ly}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Liechtenstein&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Li}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Lithuania&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Lt}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Luxembourg&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Lu}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Macao&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mo}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Macedonia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mk}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Madagascar&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mg}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Malawi&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mw}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Malaysia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{My}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Maldives&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mv}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Mali&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ml}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Malta&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mt}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Marshall Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mh}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Martinique&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mq}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Mauritania&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mr}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Mauritius&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mu}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Mayotte&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Yt}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Mexico&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mx}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Micronesia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Fm}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Moldava Republic Of&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Md}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Monaco&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mc}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Mongolia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mn}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Montenegro&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Me}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Montserrat&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ms}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Morocco&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ma}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Mozambique&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mz}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Myanmar&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mm}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Namibia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Na}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Nauru&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Nr}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Nepal&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Np}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Netherlands Antilles&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{An}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Netherlands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Nl}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;New Caledonia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Nc}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;New Zealand&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Nz}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Nicaragua&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ni}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Niger&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ne}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Nigeria&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ng}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Niue&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Nu}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Norfolk Island&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Nf}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Northern Mariana Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Mp}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Norway&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{No}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Oman&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Om}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Pakistan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pk}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Palau&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pw}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Palestine&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ps}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Panama&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pa}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Papua New Guinea&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pg}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Paraguay&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Py}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Peru&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pe}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Poland&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pl}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Portugal&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pt}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Puerto Rico&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pr}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Qatar&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Qa}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Reunion&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Re}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Romania&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ro}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Russian Federation&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ru}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Rwanda&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Rw}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Samoa&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ws}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;San Marino&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sm}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Sao Tome/Principe&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{St}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Saudi Arabia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sa}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Scotland&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Uk}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Senegal&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sn}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Serbia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Rs}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Seychelles&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sc}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Sierra Leone&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sl}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Singapore&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sg}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Slovakia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sk}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Slovenia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Si}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Solomon Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sb}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Somalia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{So}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Somoa,Gilbert,Ellice Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{As}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;South Africa&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Za}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;South Georgia, South Sandwich Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gs}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Spain&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Es}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Sri Lanka&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Lk}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;St. Helena&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sh}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;St. Kitts And Nevis&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Kn}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;St. Lucia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Lc}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;St. Pierre And Miquelon&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Pm}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;St. Vincent - The Grenadines&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Vc}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Sudan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sd}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Suriname&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sr}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Svalbard And Jan Mayen&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sj}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Swaziland&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sz}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Sweden&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Se}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Switzerland&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ch}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Syrian Arab Republic&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Sy}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Taiwan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tw}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Tajikistan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tj}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Tanzania&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tz}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Thailand&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Th}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Togo&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tg}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Tokelau&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tk}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Tonga&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{To}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Trinidad And Tobago&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tt}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Tunisia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tn}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Turkey&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tr}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Turkmenistan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tm}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Turks And Calcos Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tc}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Tuvalu&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Tv}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Uganda&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ug}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Ukraine&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ua}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;United Arab Emirates&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ae}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;United Kingdom&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Gb}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;United Kingdom&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Uk}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;United States&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Us}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;United States Minor Outl.Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Um}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Uruguay&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Uy}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Uzbekistan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Uz}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Vanuatu&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Vu}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Vatican City State&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Va}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Venezuela&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ve}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Viet Nam&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Vn}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;US Virgin Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Vi}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Wallis And Futuna Islands&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Wf}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Western Sahara&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Eh}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Yemen&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Ye}&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Zambia&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Zm}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Zimbabwe&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;{Zw}&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

</description>
    </item>
    
    <item>
      <title>Basic Packer</title>
      <link>http://localhost:1313/221019_packer/</link>
      <pubDate>Wed, 19 Oct 2022 17:26:07 -0400</pubDate>
      
      <guid>http://localhost:1313/221019_packer/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://hashicorp.com&#34;&gt;Hashicorp&lt;/a&gt; makes some &lt;em&gt;cool&lt;/em&gt; tools for playing in the cloud or a virtualized environment, especially if you want to build out an Infrastructure as Code approach and make infrastructure updates a CI process. &lt;a href=&#34;https://packer.io&#34;&gt;Packer&lt;/a&gt; is a tool that let&amp;rsquo;s you define a server - OS, cores, storage, packages, and all - in a script that can be built on demand.  You can even define your  environment, like LAMP, in the packer script and load your application files.&lt;/p&gt;
&lt;p&gt;A very practical use of Packer would be to use it to build a custom AWS AMI for your company.  You want every EC2 instance to look like this image, so it might include security settings or agents, centralized logging setup, connections to centralized authentication, and other common resources.  I would probably load any required data files when the EC2 instance is instantiated, maybe through Cloud Formation.&lt;/p&gt;
&lt;p&gt;Packer scripts are written in HCL (Hashi Corp Language?  Dunno.), which ends up looking like YAML.&lt;/p&gt;
&lt;p&gt;I built a Packer repo that builds a simple Ubuntu server for VMWare Workstation.  It should be simple enough to customize this, including having it output an AWS AMI (Amazon Machine Image). It is tested and works with Pop! 22.04 with a 5.19 kernel and VMWare Workstation 16.2.4.&lt;/p&gt;
&lt;p&gt;The packer file (&lt;em&gt;custom.pkr.hcl&lt;/em&gt; in my example) can be broken into three parts.  The first section defines the virtual machine, including the installation media and the CD image with customization steps.  It looks like this:&lt;/p&gt;
&lt;p&gt;source &amp;ldquo;vmware-iso&amp;rdquo; &amp;ldquo;jammy-development&amp;rdquo; {
iso_urls         =[
&amp;ldquo;file:/media/brent/Ventoy/ubuntu-22.04.1-live-server-amd64.iso&amp;rdquo;,
&amp;ldquo;https://releases.ubuntu.com/22.04.1/ubuntu-22.04.1-live-server-amd64.iso&amp;rdquo;]
iso_checksum     = &amp;ldquo;sha256:10f19c5b2b8d6db711582e0e27f5116296c34fe4b313ba45f9b201a5007056cb&amp;rdquo;
iso_target_path  = &amp;ldquo;/media/brent/Ventoy&amp;rdquo;
version          = &amp;ldquo;16&amp;rdquo;
memory           = 4096
cd_files = [
&amp;ldquo;./http/meta-data&amp;rdquo;,
&amp;ldquo;./http/user-data&amp;rdquo;]
cd_label = &amp;ldquo;cidata&amp;rdquo;
cpus = 1
cores = 2
disk_type_id = 0
network = &amp;ldquo;nat&amp;rdquo;
network_adapter_type = &amp;ldquo;vmxnet3&amp;rdquo;
vm_name          = &amp;ldquo;Ubuntu2204-dev&amp;rdquo;
ssh_username     = &amp;ldquo;vmadmin&amp;rdquo;
ssh_password     = &amp;ldquo;Password&amp;rdquo;
shutdown_command = &amp;ldquo;sudo shutdown -P now&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Ubuntu can be booted into an autoinstall script (&amp;ldquo;user-data&amp;rdquo; in this example).  Typically the way this is done is by placing a file (user_data in this case) into the http folder. Packer makes that folder available through a local Apache installation. However, I could not get the VM to &amp;ldquo;see&amp;rdquo; the website and draw down the file. I tried several iterations of network configuration to no avail.  One other approach I took was to take the auto-install files and place them in an ISO image, then attaching the image to the VM. To do this, I installed the cloud utilities from Ubuntu. I used cloud-localds to put the two data files into a small ISO.&lt;/p&gt;
&lt;p&gt;sudo apt install cloud-image-utils
cloud-localds ./seed.iso user-data meta-data&lt;/p&gt;
&lt;p&gt;Later I discovered that this can be done in the packer specification:&lt;/p&gt;
&lt;p&gt;cd_files = [
&amp;ldquo;./http/meta-data&amp;rdquo;,
&amp;ldquo;./http/user-data&amp;rdquo;]
cd_label = &amp;ldquo;cidata&amp;rdquo;&lt;/p&gt;
&lt;p&gt;The second part of the packer file describes how to interact with the server as it boots.  You can actually specify &lt;!-- raw HTML omitted --&gt; and &lt;!-- raw HTML omitted --&gt; and walk through an entire installation wizard.  With Ubuntu, I found that to be fragile.  As I made changes to the network to try to get it to see the local webserver, the installation prompts changed and broke the sequence.  Instead of walking through the wizard, this script boots into the custom setup and tells it to load the autoinstall script from the CD-image.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;boot_wait = &amp;quot;5s&amp;quot;
boot_command = [
  &amp;quot;c&amp;lt;wait&amp;gt;&amp;quot;,
  &amp;quot;linux /casper/vmlinuz ds=nocloud-net s=/cidata&amp;quot;,
  &amp;quot;&amp;lt;enter&amp;gt;&amp;quot;,
  &amp;quot;initrd /casper/initrd&amp;quot;,
  &amp;quot;&amp;lt;enter&amp;gt;&amp;quot;,
  &amp;quot;boot&amp;lt;enter&amp;gt;&amp;lt;wait60&amp;gt;&amp;quot;,
  &amp;quot;yes&amp;lt;wait120&amp;gt;&amp;quot;
]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}
boot_wait = &amp;ldquo;5s&amp;rdquo;
boot_command = [
&amp;ldquo;c&lt;!-- raw HTML omitted --&gt;&amp;rdquo;,
&amp;ldquo;linux /casper/vmlinuz ds=nocloud-net s=/cidata&amp;rdquo;,
&amp;ldquo;&lt;!-- raw HTML omitted --&gt;&amp;rdquo;,
&amp;ldquo;initrd /casper/initrd&amp;rdquo;,
&amp;ldquo;&lt;!-- raw HTML omitted --&gt;&amp;rdquo;,
&amp;ldquo;boot&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&amp;rdquo;,
&amp;ldquo;yes&lt;!-- raw HTML omitted --&gt;&amp;rdquo;
]
}&lt;/p&gt;
&lt;p&gt;The third piece is the autoinstall script (user-data).  This describes some of the setup attributes, like keyboard, and the initial set of packages to be loaded.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;autoinstall:
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;version: 1
apt:
geoip: true
disable_components: []
preserve_sources_list: false
primary:
- arches: [amd64, i386]
uri: &lt;a href=&#34;http://us.archive.ubuntu.com/ubuntu&#34;&gt;http://us.archive.ubuntu.com/ubuntu&lt;/a&gt;
- arches: [default]
uri: &lt;a href=&#34;http://ports.ubuntu.com/ubuntu-ports&#34;&gt;http://ports.ubuntu.com/ubuntu-ports&lt;/a&gt;
early-commands:
- sudo systemctl stop ssh
locale: en_US
keyboard:
layout: us
identity:
hostname: jammy-daily
username: vmadmin
password: $6$Da/Bin6we2OOJCVD$HM00JdEP47D.cVfSYzwf71khVHPD8NqbYLGw/iXPswndEqI2TNsMELWRCt0tA2.mVMPjFZlPI0B/xOBO9OhF01
ssh:
install-server: true
allow-pw: true
packages:
- openssh-server
- open-vm-tools
- cloud-init
- whois
- zsh
- wget
- tasksel
user-data:
disable_root: false
timezone: UTC
late-commands:
- sed -i -e &amp;rsquo;s/^#?PasswordAuthentication.*/PasswordAuthentication yes/g&amp;rsquo; /target/etc/ssh/sshd_config
- echo &amp;lsquo;vmadmin ALL=(ALL) NOPASSWD:ALL&amp;rsquo; &amp;gt; /target/etc/sudoers.d/vmadmin
- curtin in-target &amp;ndash;target=/target &amp;ndash; chmod 440 /etc/sudoers.d/vmadmin
- &amp;ldquo;lvresize -v -l +100%FREE /dev/mapper/ubuntu&amp;ndash;vg-ubuntu&amp;ndash;lv&amp;rdquo;
- &amp;ldquo;resize2fs -p /dev/mapper/ubuntu&amp;ndash;vg-ubuntu&amp;ndash;lv&amp;rdquo;&lt;/p&gt;
&lt;p&gt;My repo is linked and you can grab the original files there and build on them.  Packer is free and open-source and works with a variety of local and cloud backends, including VMWare, VirtualBox, HyperV, KVM, and AWS.  This is an easy way to produce repoducable server environments and treat your servers like &amp;ldquo;cattle not cats&amp;rdquo;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>VMWare PSA update</title>
      <link>http://localhost:1313/220727_psa_update/</link>
      <pubDate>Wed, 27 Jul 2022 13:00:36 -0400</pubDate>
      
      <guid>http://localhost:1313/220727_psa_update/</guid>
      <description>&lt;p&gt;I wrote back on &lt;a href=&#34;http://localhost:1313/posts/220105_psa_vmware&#34;&gt;January 5th&lt;/a&gt; about an issue with VMWare Workstation on the latest Linux kernels.  I&amp;rsquo;m using Pop! OS and it is fairly aggressive about keeping the system on fairly recent kernels.  VMWare doesn&amp;rsquo;t support the newest kernels and Workstaion thus can&amp;rsquo;t recompile vmmon and vmnet after a kernel upgrade.  This is probably a problem shared by anyone who keeps their kernel updated, but it&amp;rsquo;s worth saying that - if your goal is stability - you don&amp;rsquo;t have to upgrade the kernel when offered.&lt;/p&gt;
&lt;p&gt;I previously recommended a project from Michal Kubeek that maintained the &lt;a href=&#34;https://github.com/mkubecek/vmware-host-modules&#34;&gt;necessary patches&lt;/a&gt;.  That project is still great, but you have to periodically download a new copy to stay current.  Today when I hit this issue again, I used a different project - the &lt;a href=&#34;https://github.com/LinuxEuphony/vmware-host-modules-builder-cli&#34;&gt;VMWare host modules Builder CLI&lt;/a&gt;.  This project builds on and automates the Kubeek project.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Builder CLI&lt;/strong&gt; supports Debian (and thus Pop!), Arch, and is working on Fedora support.  When run, the script confirms that you are logged in as root and that there is internet connectivity.  It checks for unmet dependencies and cleans up.  As part of the script it installs ncat and wget, as well as open-vm-tools.  It detects your kernel and VMWare Workstation versions, downloads the updates, and guides you through installation.  It was quick and easy on my system.&lt;/p&gt;
&lt;p&gt;To run the VMWare Host Modules Builders script, download and unzip the script, then make the script executable.  For Debian, the script is called &lt;em&gt;debian-vmware-host-modules-builder-cli.sh&lt;/em&gt;.  Thus run the script as root (or sudo).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/220727_vmwarescript.png&#34; alt=&#34;Script prompt&#34;&gt;&lt;/p&gt;
&lt;p&gt;Method 1 worked fine for me, although I had to reboot to get everthing working.  That&amp;rsquo;s consistent with the behavior from the older method as well.  It&amp;rsquo;s a little disruptive, since downloading a new kernel can cause VMWare Workstation to have errors until you reboot.  Once you reboot into the new kernel, you have to check vmware, and then run the script if needed and then reboot again with the patches loaded.  Simple enough to just only do updates after business hours and make sure everything is working before you walk away.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problems with Proxmox VE</title>
      <link>http://localhost:1313/220219_proxmox/</link>
      <pubDate>Sat, 19 Feb 2022 15:37:06 -0500</pubDate>
      
      <guid>http://localhost:1313/220219_proxmox/</guid>
      <description>&lt;p&gt;Look, I know you&amp;rsquo;re reading this, but sometimes I write these posts for myself.  To remind myself of how I built or repaired something.  This is one of those posts.&lt;/p&gt;
&lt;p&gt;My home server ran VMWare ESXi for a long time.  I had trouble upgrading it from 6.5 and I was intrigued by Proxmox VE and putting my home network more firmly in the open source camp.  I&amp;rsquo;ve been running Proxmox VE 7.1 for a while now.&lt;/p&gt;
&lt;h2 id=&#34;quick-review-of-pve&#34;&gt;Quick review of PVE&lt;/h2&gt;
&lt;p&gt;My experience with PVE has been mixed.  VMWare hid a lot of it&amp;rsquo;s Linux base, where PVE is like an opinionated distro aimed at virtualization.  With PVE, you are definitely administering a debian derivitive box.  PVE will host VMs and also does OS-level containers, which is an interesting take and seems to conserve processor.  I implemented my internal servers this way and it&amp;rsquo;s indistinguishable from a full VM in terms of use    .&lt;/p&gt;
&lt;p&gt;Probably the biggest &amp;ldquo;issue&amp;rdquo; is that I use VMWare Workstation to have a Windows VM on my Linux machine.  Workstation was a pretty good front-end for ESXi and you could migrate loads between the two.  Obviously, that use case is out the window now.&lt;/p&gt;
&lt;p&gt;Generally, PVE runs as good as or better than ESXi.  However, on the occassion that something goes sideways you are combing through blog posts and support forums (assuming you don&amp;rsquo;t have a subscription, which I don&amp;rsquo;t for home).  I like that the things I learn in PVE are transferable to Linux and vice versa, but I wouldn&amp;rsquo;t make PVE your first experience with Linux.&lt;/p&gt;
&lt;h2 id=&#34;back-to-the-show&#34;&gt;Back to the show&lt;/h2&gt;
&lt;p&gt;Power went out at the house the other night and the VMs (actually OS-level containers, but that&amp;rsquo;s arduous to say and if I abbreviate it OSLC no one will know what I&amp;rsquo;m nattering on about) storage had an issue.  When PVE tried to load those volumes it gave an error &lt;em&gt;&amp;ldquo;activating LV &amp;lsquo;pve/data&amp;rsquo; failed: Activation of logical volume pve/data is prohibited while logical volume pve/data_tmeta is active. (500)&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I tried several approaches to resolve this.  You can see the error from the PVE command line via &lt;strong&gt;lsblk&lt;/strong&gt;.  What actually worked was to make the interfering volumes inactive. Seems obvious, but I needed the command &lt;strong&gt;vgchange&lt;/strong&gt;.  As a note, after I deactivated &lt;em&gt;tmeta&lt;/em&gt; I got an error because &lt;em&gt;tdata&lt;/em&gt; was active so I had to deactivate that as well.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#deactivate the offending volume
lvchange -an pve/data_tmeta
##activate the expected volumes
vgchange -ay
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So this post is a note to myself for the next time.  Hopefully it&amp;rsquo;s helpful to you as well.&lt;/p&gt;
&lt;h3 id=&#34;update-i-had-a-power-outage-in-late-april-and-had-to-follow-this-procedure-again--apparently-its-a-common-failure-state&#34;&gt;Update: I had a power outage in late April and had to follow this procedure again.  Apparently it&amp;rsquo;s a common failure state.&lt;/h3&gt;
</description>
    </item>
    
    <item>
      <title>Deploying a WIM Image to VMWare</title>
      <link>http://localhost:1313/220122_deploying_wim/</link>
      <pubDate>Sat, 22 Jan 2022 12:54:46 -0500</pubDate>
      
      <guid>http://localhost:1313/220122_deploying_wim/</guid>
      <description>&lt;p&gt;Work uses Windows, but I need a Linux workstation with that set of tools.  I find WSL2 incomplete . . . partly because my personal workflow is Linux based.  I spoke with the Windows expert and we agreed to use VMWare Workstation to deploy my Windows environment alongside my Linux system.  Deploying the standard Windows image to a remote VMWare environment wasn&amp;rsquo;t something we had setup already.  Since I&amp;rsquo;m trying to be a special case, he sent me the WIM file to figure out how to deploy.&lt;/p&gt;
&lt;h1 id=&#34;what-the-heck-is-a-wim&#34;&gt;What the heck is a WIM?&lt;/h1&gt;
&lt;p&gt;A WIM is a file-based Windows Image that is made to be easy to test and deploy.   It&amp;rsquo;s kind of like a ZIP, to my understanding, in that it captures all the files and the directory structure of a partition in a file.  Being file-based makes it easy to modify (more on this later).  Because it&amp;rsquo;s not a sector-by-sector image you can deploy it to different sized drives.&lt;/p&gt;
&lt;h2 id=&#34;how-dont-you-deploy-it&#34;&gt;How don&amp;rsquo;t you deploy it?&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/fogserver.png#floatsmallleft&#34; alt=&#34;Fog Project&#34;&gt;
I tried several approaches to using the WIM file.  I&amp;rsquo;ll mention them briefly here so that you can learn from my experience.&lt;/p&gt;
&lt;p&gt;The first thing I tried was making a Windows VM using the Windows 10 downloadable &lt;a href=&#34;https://www.microsoft.com/en-us/software-download/windows10ISO&#34;&gt;disk image&lt;/a&gt; from Microsoft. Once booted, I added a drive and expanded the WIM to the new drive.  I deleted my drive with generic Windows and rebooted.  I think this didn&amp;rsquo;t work because the new disk wasn&amp;rsquo;t set as a primary partition.  This approach may be doable, but I moved on pretty quickly.&lt;/p&gt;
&lt;p&gt;The next thing I tried was to deploy it via netboot using a &lt;a href=&#34;https://github.com/FOGProject/fogproject&#34;&gt;Fog Server&lt;/a&gt;.  That project is pretty stinking cool!  I was able to get a VM to reference the server for boot information.  The problem here was that I didn&amp;rsquo;t know what it was looking for (first time with PXE).  When I decided it wanted an ISO, I thought &amp;ldquo;if I knew how to convert to the WIM to an ISO, I could just boot that directly in the VM!&amp;rdquo; and abandoned the Fog Server approach.  I may come back to this to learn more about PXE booting.&lt;/p&gt;
&lt;h1 id=&#34;how-do-you-deploy-wim&#34;&gt;How do you deploy WIM?&lt;/h1&gt;
&lt;p&gt;Microsoft has a series of articles that you&amp;rsquo;ll need to read to understand how to do this.  I&amp;rsquo;ve referenced them, but be warned that they reference each other circlically and there&amp;rsquo;s not a good starting point.  To help you, I&amp;rsquo;m going to attempt to draw a straight line through how &lt;em&gt;I&lt;/em&gt; accomplished this.&lt;/p&gt;
&lt;h2 id=&#34;1---build-a-winpe-dvd-image&#34;&gt;1 - build a WinPE DVD Image&lt;/h2&gt;
&lt;p&gt;You need to boot into a &lt;a href=&#34;https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/winpe-intro?view=windows-11&#34;&gt;WinPE&lt;/a&gt; environment to deploy the WIM image.   Windows PE is a small OS made to facilitate installation, used by Windows as a &amp;ldquo;pre-boot&amp;rdquo; environment.  To build your WinPE boot disk, download the &lt;a href=&#34;https://docs.microsoft.com/en-us/windows-hardware/get-started/adk-install&#34;&gt;Windows Assessment and Deployment Kit&lt;/a&gt; on a Windows PC and install the ADK executable.&lt;/p&gt;
&lt;p&gt;Start the &lt;strong&gt;Deployment and Imaging Tools Environment&lt;/strong&gt; as an administrator and create a working set of files using the &lt;strong&gt;copype&lt;/strong&gt; command.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;copype amd64 C:\WinPE_amd64
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The documentation says you can build an ISO now.  &lt;strong&gt;Don&amp;rsquo;t!&lt;/strong&gt;  There are some batch files that will make this easier - download a zip from &lt;a href=&#34;https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/oem-deployment-of-windows-desktop-editions-sample-scripts?preserve-view=true&amp;amp;view=windows-10#apply-image&#34;&gt;here&lt;/a&gt; and pull the scripts out and place them in the root of your WinPE directory.  Also, grab the WIM file that you&amp;rsquo;re trying to deploy and stick that in the WinPE directory as well.  Now you can build the ISO using the &lt;strong&gt;MakeWinMedia&lt;/strong&gt; command.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;MakeWinPEMedia /ISO C:\WinPE_amd64 C:\WinPE_amd64\Acme_Installer.iso
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That should create an ISO that&amp;rsquo;s about a half-gig larger than the WIM file.
&lt;img src=&#34;http://localhost:1313/tpm.png#floatsmallright&#34; alt=&#34;TPM&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;2---build-a-blank-vm-and-enable-secure-boot&#34;&gt;2 - Build a blank VM and enable Secure Boot&lt;/h2&gt;
&lt;p&gt;I created an empty VM with an empty hard drive.  The critical piece here is that my image expects to be deployed to a TPM environment.  TPM requires UEFI and that the VM be encrypted.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/vmsetup.png#floatsmallright&#34; alt=&#34;VM Configuration&#34;&gt;
In VMWare Workstation, enable UEFI under Virtual Machine Settings: go to the Options tab, select Advanced, and set the Firmware type to UEFI and Enable Secure Boot.  This is shown in the picture to the right.  While at the Options tab, select Access Control, click the button to encrypt the virtual machine, and choose a password.&lt;/p&gt;
&lt;p&gt;Next add the Trusted Platform Module.   Add it under the Hardware tab by clicking the Add button at the left-bottom of the window.&lt;/p&gt;
&lt;p&gt;Finally, we need the new VM to boot from the ISO we created earlier.  Add the new WinPE ISO to the CD drive and make sure it&amp;rsquo;s marked connected.&lt;/p&gt;
&lt;h2 id=&#34;3---boot-winpe-and-deploy-the-image&#34;&gt;3 - Boot WinPE and deploy the image&lt;/h2&gt;
&lt;p&gt;Now we&amp;rsquo;re ready to install the WIM image!  Boot the new VM using the WinPE boot disk.  It will boot to a prompt.  The procedure here is laid out by &lt;a href=&#34;https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/capture-and-apply-windows-using-a-single-wim?view=windows-11&#34;&gt;Microsoft&lt;/a&gt;.  Use the scripts that you added to the boot disk to first help partition the drive and then to apply the image.  &lt;em&gt;CreatePartition-UEFI.txt&lt;/em&gt; and &lt;em&gt;ApplyImage.bat&lt;/em&gt; were included in those scripts.  Obviously image names will change.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;diskpart /s CreatePartitions-UEFI.txt
D:\ApplyImage.bat D:\Images\ACME-Standard.wim
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The ApplyImage batch file will ask a few questions you need to be prepared for.  You can safely answer &amp;ldquo;no&amp;rdquo; to all of them.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You will be asked if you want to create a recovery partition.  Recovery Partitions are a great tool, but I want to keep this VM as small as possible and I&amp;rsquo;ll setup recovery mechanisms at the VM level, so I answered no.&lt;/li&gt;
&lt;li&gt;Do you want a compact OS install?  This runs the OS from compressed files, saving a lot of disk space.  Of course, everything has to be uncompressed to be run, so it will slow things down and might take more memory.  Even though I want a small VM, I chose to not install it as a compressed OS because I want to have good performance.&lt;/li&gt;
&lt;li&gt;Does the WIM file have extended attributes? I&amp;rsquo;m not a Windows guy, but I chose &amp;ldquo;no&amp;rdquo; and everything was fine.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;From this point, the VM will go through a preliminary setup, doing things like setting the keyboard type.  It will reboot, ask you to login, and then continue the higher level (Cortana led) part of setup.  From here, everything should install as you would expect!&lt;/p&gt;
&lt;p&gt;As an interesting side-note, the WinPE boot disk includes an FTP client.  That might be useful script out some additional file copies to the new machine.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PSA VMWare</title>
      <link>http://localhost:1313/220105_psa_vmware/</link>
      <pubDate>Wed, 05 Jan 2022 17:49:07 -0500</pubDate>
      
      <guid>http://localhost:1313/220105_psa_vmware/</guid>
      <description>&lt;h1 id=&#34;public-service-annoucement-on-vmware-workstation&#34;&gt;Public Service Annoucement on VMWare Workstation&lt;/h1&gt;
&lt;p&gt;That&amp;rsquo;s a little dramatic, but I have had a fit with VMWare Workstation and want to pass along what I&amp;rsquo;ve learned.  I recently upgraded my desktop and VMWare performance went in the dump.&lt;/p&gt;
&lt;h3 id=&#34;backstory&#34;&gt;Backstory&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;m running Pop!_OS 21.10 using kernel 5.15.  I&amp;rsquo;m using VMWare Workstation 16.2.1 (latest as of early January 2022).  Since I do a lot with virtualization, I have 64GB of RAM.  I was running a Gen 6 i7 and recently upgraded my processor and motherboard to get to gen 12.  Wow! What a difference!  Everything runs super-fast, but VMWare suddenly became anemic.&lt;/p&gt;
&lt;h2 id=&#34;whatd-i-do-to-fix-it&#34;&gt;What&amp;rsquo;d I do to fix it?&lt;/h2&gt;
&lt;p&gt;Workstation has trouble running on recent kernels.  Michal Kubeek maintains a &lt;a href=&#34;https://github.com/mkubecek/vmware-host-modules&#34;&gt;repository&lt;/a&gt; with kernel patches.  Download the patch from GitHub - instructions are included in the repository.  You&amp;rsquo;ll know this worked because VMWare boots.&lt;/p&gt;
&lt;p&gt;The ultimate fix was to tell VMware not to swap memory, since I have plenty.  To do this, run Workstation as root:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo -i vmware
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Go to &lt;strong&gt;Edit&lt;/strong&gt; &amp;gt; &lt;strong&gt;Preferences&lt;/strong&gt; and under &amp;ldquo;Memory&amp;rdquo; select &amp;ldquo;Fit all virtual machine memory into reserved host RAM&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/220105_VMWS_Memory.png&#34; alt=&#34;VMWare Workstation Settings&#34;&gt;&lt;/p&gt;
&lt;p&gt;I searched all over the Internet and tried a dozen different things to fix this.  I know this is a short article, but I wanted to make sure that others had a less frustrating time!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GNS3 Attached to ESXi</title>
      <link>http://localhost:1313/210421_gns3_attached_to_esxi/</link>
      <pubDate>Wed, 21 Apr 2021 20:11:14 -0400</pubDate>
      
      <guid>http://localhost:1313/210421_gns3_attached_to_esxi/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://localhost:1313/210421_GNS3-30.png#floatsmallleft&#34; alt=&#34;VLAN Setup&#34;&gt;&lt;/p&gt;
&lt;p&gt;I got a little distracted.  I have been coming up to speed on Ansible, which got me started on Vagrant.  Vagrant got me building VMs in VMWare Workstation , which got me thinking how neat it would be to place those &lt;em&gt;automagically&lt;/em&gt; into my GNS3VM environment hosted on ESXi.  Didn&amp;rsquo;t get that far - yet  - but the progress I made is pretty cool in it&amp;rsquo;s own right.&lt;/p&gt;
&lt;p&gt;Most GNS3 users are using a GNS3 VM to host their topologies.  Mine sits on an ESXi server.  I discussed a few days ago how to connect GNS3 into a network (see &lt;a href=&#34;http://localhost:1313/posts/210417_connecting_gns3/&#34;&gt;Connecting GNS3&lt;/a&gt;. Here I want to do something more complex - I&amp;rsquo;d like to connect ESXi instances into arbitrary points in a GNS3 network.  The topology will still have a connection &amp;ldquo;out&amp;rdquo; to the home network and Internet, but I want to add an ESXi VM &amp;ldquo;inside&amp;rdquo; the network as well.&lt;/p&gt;
&lt;p&gt;The approach I used was to attach the VMs into an ESXi VSwitch VLAN and then use additional cloud appliances to attach those VLAN into the GNS3 topology.  &lt;em&gt;This seems obvious in retrospect&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id=&#34;setup-on-esxi&#34;&gt;Setup on ESXi&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/210422_GNS3Shell.png#floatsmallright&#34; alt=&#34;Alt&#34;&gt;
The first step is to go onto the VMWare ESXi server and create a new VLAN on the vSwitch.  From the ESXi management interface, select the networking tab and &amp;ldquo;add port group&amp;rdquo;.  I created VLAN 30 and called it &amp;ldquo;GNS3-30&amp;rdquo; and assigned it to my default virtual switch (vSwitch0).&lt;/p&gt;
&lt;h2 id=&#34;setup-the-gns3vm&#34;&gt;Setup the GNS3VM&lt;/h2&gt;
&lt;p&gt;Next I went to the GNS3vm VMWare properties and added an interface.  The interface will attach to the VM &amp;ldquo;live&amp;rdquo;, but you&amp;rsquo;ll need to go into the GNS3vm to configure it before it can be used.&lt;/p&gt;
&lt;p&gt;To setup the interface, login and choose &amp;ldquo;Shell&amp;rdquo; from the main menu.  The interface needs to be added to &lt;strong&gt;netplan&lt;/strong&gt;.  I ended up adding two interfaces (more fun!) and also took the chance to set a static IP for my server.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd /etc/netplan  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo nano 90_gns3vm_static_netcfg.yaml  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here&amp;rsquo;s the edited YAML file I&amp;rsquo;m using.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;network&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;version&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;renderer&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;networkd  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;ethernets&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;eth0&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;dhcp4&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;no&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;addresses&lt;/span&gt;: [&lt;span style=&#34;color:#ae81ff&#34;&gt;192.168.25.52&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;/24]  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;gateway4&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;192.168.25.1&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;nameservers&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;addresses&lt;/span&gt;: [&lt;span style=&#34;color:#ae81ff&#34;&gt;8.8.8.8&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;8.8.4.4&lt;/span&gt;]  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;eth1&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;dhcp4&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;no&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;eth2&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;dhcp4&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;no&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;When I did this step, it replaced the existing eth0 on the GNS3VM and made my old interface eth1.  This disconnected the VM because the IP information was associated with eth0.  I diagnosed this by using the VMWare interface and the &lt;em&gt;ifconfig&lt;/em&gt; command on the GNS3VM to identify and associate names and MAC addresses, but it took a little time to understand what happened.  I&amp;rsquo;m still not sure why, but be alert for this issue if you add an interface.  My Internet GNS3 cloud appliance had to be disconnected (you cannot add interfaces to a cloud with existing connections), eth1 added, and reconnected to get it to work.&lt;/p&gt;
&lt;h2 id=&#34;adding-to-gns3-topology&#34;&gt;Adding to GNS3 Topology&lt;/h2&gt;
&lt;p&gt;Recall from &lt;a href=&#34;http://localhost:1313/posts/210417_connecting_gns3/&#34;&gt;Connecting GNS3&lt;/a&gt; that I&amp;rsquo;ve setup my home network to expect a GNS3 border router at 192.168.25.82 and it will be the route to 192.168.28.0/22.  In this simplest case, I&amp;rsquo;m attaching another interface on that same router to a different vSwitch VLAN and routing between them.  I &lt;em&gt;could&lt;/em&gt; have put the new VLAN deep in the GNS3 topology.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/210422_AddingACloud.png#center&#34; alt=&#34;Setup in GNS3&#34;&gt;&lt;/p&gt;
&lt;p&gt;So pause before this next paragraph.  Recall that there are three contexts, one physical, one in terms of the ESXi vSwitch, and one inside GNS3.&lt;/p&gt;
&lt;p&gt;Attaching a new cloud (in GNS3) that uses the GNS3VM interface (in the vSwitch context) attached to the new VLAN (in my case, eth0 -&amp;gt; VLAN30) will bring that new network into the virtual lab.&lt;/p&gt;
&lt;p&gt;At this point I attached a Windows VM to the new VLAN and set it&amp;rsquo;s interface to DHCP.  I connected the cloud to the virtual router (in GNS3), setup the interface, and added DHCP server capability.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-plaintext&#34; data-lang=&#34;plaintext&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;int g0/2  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ip add 192.168.30.1 255.255.255.224  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ip dhcp pool GNS3  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;network 192.168.30.0 /27  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I can verify that this works inside the Windows VM, and by verifying that an IP has been assigned from the router.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-plaintext&#34; data-lang=&#34;plaintext&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Router1# __sh ip dhcp bindings__  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Bindings from all pools not associated with VRF:  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IP addressClient-ID/Lease expirationType
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Hardware address/  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;User name  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;192.168.30.20100.0c29.e965.fdApr 30 2021 12:05 AMAutomatic
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;whats-next&#34;&gt;What&amp;rsquo;s next?&lt;/h2&gt;
&lt;p&gt;I&amp;rsquo;d really like to be able to &lt;strong&gt;Vagrant up&lt;/strong&gt; straight into GNS3.  I&amp;rsquo;m not even sure why, except that it would be cool.  Right now I can build a VM on Workstation, transfer it to ESXi and place it in the VLAN and thus in the GNS3 topology.&lt;/p&gt;
&lt;p&gt;I can easily extend the vSwitch VLAN to my home network, but for this to really work I&amp;rsquo;ll need to implement a trunk to my desktop and be able to place Workstation VMs into the VLAN.&lt;/p&gt;
&lt;p&gt;One of the things I love about GNS3 is that it pushes me to understand things and learn new techniques.  I&amp;rsquo;ll work on that as I have time in the days ahead.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>VMWare File Transfer Options including SFTP </title>
      <link>http://localhost:1313/210110_vmware-sftp/</link>
      <pubDate>Sun, 10 Jan 2021 16:51:18 -0500</pubDate>
      
      <guid>http://localhost:1313/210110_vmware-sftp/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://localhost:1313/210110_VMWare-SFTP.png#floatright&#34; alt=&#34;VMWare SFTP&#34;&gt;&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m going to be upgrading my home VMware server and need to backup the VMs.  My server uses ESXi 6.5 and I&amp;rsquo;ll need to backup the files before upgrading.  Longtime readers may recall that I&amp;rsquo;m using &lt;a href=&#34;http://localhost:1313/posts/200804_homebackup&#34;&gt;Backblaze&lt;/a&gt; to backup the &lt;em&gt;data&lt;/em&gt; on my server.  That is going swimmingly so far.  I want to backup the images so I don&amp;rsquo;t have to rebuild the VMs after this is done.&lt;/p&gt;
&lt;h2 id=&#34;admin-interface&#34;&gt;Admin interface&lt;/h2&gt;
&lt;p&gt;One way to accomplish this is to login to the admin web portal and export the VMs.  Under each VM, go to Actions &amp;gt; Export and this queues downloading the component files.  Exporting over HTTP is slow though.&lt;/p&gt;
&lt;h2 id=&#34;vmware-workstation&#34;&gt;VMWare Workstation&lt;/h2&gt;
&lt;p&gt;A second option is to backup from VMWare Workstation.  I prefer using this to manage server VMs anyway.  First, connect to the server under &lt;em&gt;File&amp;gt;Connect to Server&lt;/em&gt;.  Once the server is attached to workstation and you can see the VMs, right click a machine and choose &lt;em&gt;Manage &amp;gt; Download&lt;/em&gt;. This is also fairly slow.&lt;/p&gt;
&lt;h2 id=&#34;using-ssh-with-vmware&#34;&gt;Using SSH with VMWare&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/210110_Filezilla.png#floatright&#34; alt=&#34;Filezilla to VMWare&#34;&gt;&lt;/p&gt;
&lt;p&gt;To speed up the action, I wanted to grab the VMDKs directly from the server using SFTP.  To set this up, login to the administrative interface of ESXi and look under &amp;ldquo;Host&amp;rdquo;.  Choose &amp;ldquo;Actions&amp;rdquo; and &amp;ldquo;Enable SSH&amp;rdquo;. SFTP is a part of SSH, so this also enables SFTP.  This isn&amp;rsquo;t the best way to grab the backup, since it will take a little work to stand these up again, but it is faster.&lt;/p&gt;
&lt;p&gt;To make this super easy, I used Filezilla.  Under the site manager, I selected SFTP, entered the IP address, and username.  When connecting, you&amp;rsquo;ll need to accept the host key and navigate to /vmfs/volumes/YOUR_VOLUME_NAME/ and each of the VMs will have a directory.  You can also easily upload images this way - ISOs can be saved to to VMWare easily this way.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
