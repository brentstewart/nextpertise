<!doctype html>
  <html lang="en">
  <head itemscope itemtype="https://nextpertise.net/">
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-173443199-1');
      </script>
    <title>Nextpertise Updating a GNS3 Appliance File - a personal journal of interesting ideas</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/style.css">
    <link rel="icon" href="/n.ico">
    <meta http-equiv="content-type" content="text/html; charset=windows-1252">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-173443199-1"></script>
    


  </head>
  <body>
    <link rel="stylesheet" href="https://nextpertise.net/bootstrap-table.css">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Nextpertise is a journal of interesting ideas: This is a long post, but most of it is file contents. Keep reading!
GNS3 appliance files are descriptions of virtual machines used in network simulations.">
    <meta name="keywords" content="GNS3, Git,GNS3" />
    <meta name="twitter:card" content="">
    <meta property="og:title" content="Updating a GNS3 Appliance File" >
    <meta property="og:url" content="https://nextpertise.net/posts/200902_updatinggns3appliances/" >
    <meta property="og:description" content="" >
    <meta property="og:image" content="https://nextpertise.net/non-technical.png" >
    <link rel="apple-touch-icon" href="https://nextpertise.net/non-technical.png" >
    <link rel="stylesheet" href="https://nextpertise.net/style.css" >
</head>
<div class="tags"><img src="https://nextpertise.net/nextpertise_rays.png" alt="Nextpertise" height="75" > <i>a journal of interesting technical ideas . . .</i></div>
<div class="nav"style="text-align: left">
  <nav class="sidebar-nav">
    
    
      <a class="sidebar-nav-item" href="/" title="">Home</a>
    
      <a class="sidebar-nav-item" href="/tags/" title="">TagCloud</a>
    
      <a class="sidebar-nav-item" href="/posts/" title="">Archives</a>
    
      <a class="sidebar-nav-item" href="https://stewart.tc/" title="">Personal</a>
    
      <a class="sidebar-nav-item" href="https://stewart.tc/reading/" title="">Reading</a>
    
      <a class="sidebar-nav-item" href="https://github.com/brentstewart" title="">Github</a>
    
      <a class="sidebar-nav-item" href="/contributors" title="">About</a>
    
    &NonBreakingSpace;Find us on:&NonBreakingSpace;
    <a href="https://nextpertise.net/index.xml"><img src="/Feed-icon.png" alt="RSS" height="25" ></a>
    <a href="https://www.linkedin.com/company/nextpertise"><img src="/linkedin.png" alt="LinkedIn" height="25" ></a>
    
  </div>

    
<img src="/gns3.png#floatright" height="140">
<h1>Updating a GNS3 Appliance File</h1> 
  <h6><div style="text-align: right"><i>by Brent Stewart</a>  on Wednesday, Sep 2, 2020</i><br></div></h6>
  <p><p>This is a long post, but most of it is file contents.  Keep reading!</p>
<p>GNS3 appliance files are descriptions of virtual machines used in network simulations.  The appliance files have suffixes of <em>.gns3a</em> and are included with the GNS3 download.  You can update the files and create new ones.  The goal of this article is to walk through the process of working with appliance files and contributing them back to the community.</p>
<p>On a personal note, submitting a new GNS3 appliance was the first time I contributed to an open-source project.  I&rsquo;m still learning, but a few years ago I knew <em>nothing</em>.  Jeremy Grossman, with GNS3, was patient and helped me understand the process of using Git.  Contributing - even in this minor way - was a real high for me and I&rsquo;d love for you to be able to share that feeling and contribute to this and other projects.  GNS3a was my &ldquo;gateway drug&rdquo; into being a contributor and not just a consumer of open source.</p>
<p>One of the files I&rsquo;ve contributed is the Security Onion appliance.  Security Onion is a Linux distribution that focuses on security tools.  Below is the current version (9/1/20) of the GNS3A file.  Before we create a new appliance, let&rsquo;s update this one.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Security Onion&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;category&#34;</span>: <span style="color:#e6db74">&#34;guest&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Security Onion is a Linux distro for intrusion detection, network security monitoring, and log management. Itâ€™s based on Ubuntu and contains Snort, Suricata, Bro, OSSEC, Sguil, Squert, ELSA, Xplico, NetworkMiner, and many other security tools. The easy-to-use Setup wizard allows you to build an army of distributed sensors for your enterprise in minutes!&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vendor_name&#34;</span>: <span style="color:#e6db74">&#34;Security Onion Solutions, LLC&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vendor_url&#34;</span>: <span style="color:#e6db74">&#34;https://securityonion.net/&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;documentation_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/wiki&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;product_name&#34;</span>: <span style="color:#e6db74">&#34;Security Onion&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;product_url&#34;</span>: <span style="color:#e6db74">&#34;https://securityonion.net/&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;registry_version&#34;</span>: <span style="color:#ae81ff">3</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;stable&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;maintainer&#34;</span>: <span style="color:#e6db74">&#34;Brent Stewart&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;maintainer_email&#34;</span>: <span style="color:#e6db74">&#34;X@X&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;usage&#34;</span>: <span style="color:#e6db74">&#34;Your default account will have sudo priviledges.  Squil and Squert username and password are configured in the Setup wizard.  MySQL root is set to null.  For more info see https://github.com/Security-Onion-Solutions/security-onion/wiki/Passwords.&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;symbol&#34;</span>: <span style="color:#e6db74">&#34;securityonion-logo.png&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;qemu&#34;</span>:  
</span></span><span style="display:flex;"><span>    {  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;adapter_type&#34;</span>: <span style="color:#e6db74">&#34;e1000&#34;</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;adapters&#34;</span>: <span style="color:#ae81ff">2</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;ram&#34;</span>: <span style="color:#ae81ff">3072</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;arch&#34;</span>: <span style="color:#e6db74">&#34;x86_64&#34;</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;console_type&#34;</span>: <span style="color:#e6db74">&#34;vnc&#34;</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;kvm&#34;</span>: <span style="color:#e6db74">&#34;allow&#34;</span>  
</span></span><span style="display:flex;"><span>    },  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;images&#34;</span>:  
</span></span><span style="display:flex;"><span>    [  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;securityonion-16.04.6.1.iso&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;16.04.6.1&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;md5sum&#34;</span>: <span style="color:#e6db74">&#34;ca835cef92c2c0daafa16e789c343d1d&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filesize&#34;</span>: <span style="color:#ae81ff">2020605952</span>,   
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;direct_download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/download/v16.04.5.3_20181010/securityonion-16.04.6.1.iso&#34;</span>  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;securityonion-16.04.5.3.iso&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;16.04.5.3&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;md5sum&#34;</span>: <span style="color:#e6db74">&#34;886b369548c9c3841bc820cc3ab02bd9&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filesize&#34;</span>: <span style="color:#ae81ff">1895825408</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;direct_download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/download/v16.04.5.3_20181010/securityonion-16.04.5.3.iso&#34;</span>  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;securityonion-14.04.5.4.iso&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;14.04.5.4&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;md5sum&#34;</span>: <span style="color:#e6db74">&#34;9c7cab756b675beb10de4274a3ad3bc6&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filesize&#34;</span>: <span style="color:#ae81ff">1874853888</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;direct_download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/download/v14.04.5.4_20171031/securityonion-14.04.5.4.iso&#34;</span>  
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;securityonion-14.04.5.3.iso&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;14.04.5.3&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;md5sum&#34;</span>: <span style="color:#e6db74">&#34;fb80ccb2d3c0f3f511823fa5858f87d1&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filesize&#34;</span>: <span style="color:#ae81ff">1889533952</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;direct_download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/download/v14.04.5.4_20171031/securityonion-14.04.5.3.iso&#34;</span>  
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;empty30G.qcow2&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;1.0&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;md5sum&#34;</span>: <span style="color:#e6db74">&#34;3411a599e822f2ac6be560a26405821a&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filesize&#34;</span>: <span style="color:#ae81ff">197120</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;download_url&#34;</span>: <span style="color:#e6db74">&#34;https://sourceforge.net/projects/gns-3/files/Empty%20Qemu%30disk/&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;direct_download_url&#34;</span>: <span style="color:#e6db74">&#34;https://sourceforge.net/projects/gns-3/files/Empty%20Qemu%20disk/empty30G.qcow2/download&#34;</span>  
</span></span><span style="display:flex;"><span>        }  
</span></span><span style="display:flex;"><span>    ],  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;versions&#34;</span>:   
</span></span><span style="display:flex;"><span>    [  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;16.04.6.1&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;images&#34;</span>:   
</span></span><span style="display:flex;"><span>            {  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;hda_disk_image&#34;</span>: <span style="color:#e6db74">&#34;empty30G.qcow2&#34;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cdrom_image&#34;</span>: <span style="color:#e6db74">&#34;securityonion-16.04.6.1.iso&#34;</span>  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;16.04.5.3&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;images&#34;</span>:  
</span></span><span style="display:flex;"><span>            {  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;hda_disk_image&#34;</span>: <span style="color:#e6db74">&#34;empty30G.qcow2&#34;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cdrom_image&#34;</span>: <span style="color:#e6db74">&#34;securityonion-16.04.5.3.iso&#34;</span>  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;14.04.5.4&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;images&#34;</span>:  
</span></span><span style="display:flex;"><span>            {  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;hda_disk_image&#34;</span>: <span style="color:#e6db74">&#34;empty30G.qcow2&#34;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cdrom_image&#34;</span>: <span style="color:#e6db74">&#34;securityonion-14.04.5.4.iso&#34;</span>  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;14.04.5.3&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;images&#34;</span>: {  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;hda_disk_image&#34;</span>: <span style="color:#e6db74">&#34;empty30G.qcow2&#34;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cdrom_image&#34;</span>: <span style="color:#e6db74">&#34;securityonion-14.04.5.3.iso&#34;</span>  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        }    
</span></span><span style="display:flex;"><span>]  
</span></span><span style="display:flex;"><span>}  
</span></span></code></pre></div><p>Most of this is pretty straight forward.  The structure looks like:</p>
<p>A descriptive section</p>
<ul>
<li>Name, Description, usage, vendor and product information can be taken from the source website</li>
<li>Category can be guest, router, firewall, or multilayer_switch.</li>
<li>Maintainer is the creator.  Notice I&rsquo;ve replaced my email for publication to the web.</li>
<li>Symbol should be a SVG file with a maximum height of 70px.  Either reference an existing symbol or add a new one.</li>
</ul>
<p>Next is the Qemu section that describes how the VM environment should be constructed.  This is straightforward as well.  Console types are VNC or telnet.  You may have to try different ethernet adapters to see what works, but I recommend starting with the Intel e1000 because this model is supported by most VMs.  Using a para-virtualized adapter may give better performance, so you may also want to try vmxnet3.  Most architectures will be 64bit and RAM requirements will usually be on the website.</p>
<p>That leaves two sections - Images and Versions.  There should be a matching entry in both places.  The images section is a list of virtual hard drives and CD-ROM images to use in the VM and includes:</p>
<ul>
<li>Filename, version, and download URL</li>
<li>md5sum - most Linux distributions include the command <strong>md5sum</strong>.  Download the appliance ISO and use <strong>md5sum myfile.iso</strong> to generate a checksum.  Most Linux distributions include the checksum on their download page as well, so double check your version.</li>
<li>filesize is reported on Linux using <strong>ls -l</strong></li>
<li>If an empty drive image is needed, GNS3 provides them in different sizes on Github (as referenced above)
The versions section needs to have a name that matches the version number provided in the images section.  That ties the images to the correct version.
Notice that I&rsquo;ve set this up to boot to an empty machine and prompt the user to do the installation.  I could also supply a QCOW2 file with Security Onion pre-installed.</li>
</ul>
<p>Let&rsquo;s update this file.  There are a lot of old images listed as options.  I&rsquo;ll remove the image and version sections for 14.04.5.3 and add the most recent (16.04.7.1).  That will leave users with the last 14.x and two images in 16.x including the latest.  Whether dealing with a distribution or a commercial image, changes made between versions may introduce new processes or bugs so leaving some older images gives users an easy workaround.  Here&rsquo;s the updated file.  Scroll below the output for a discussion of submitting this back to the project.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Security Onion&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;category&#34;</span>: <span style="color:#e6db74">&#34;guest&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Security Onion is a Linux distro for intrusion detection, network security monitoring, and log management. Itâ€™s based on Ubuntu and contains Snort, Suricata, Bro, OSSEC, Sguil, Squert, ELSA, Xplico, NetworkMiner, and many other security tools. The easy-to-use Setup wizard allows you to build an army of distributed sensors for your enterprise in minutes!&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vendor_name&#34;</span>: <span style="color:#e6db74">&#34;Security Onion Solutions, LLC&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vendor_url&#34;</span>: <span style="color:#e6db74">&#34;https://securityonion.net/&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;documentation_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/wiki&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;product_name&#34;</span>: <span style="color:#e6db74">&#34;Security Onion&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;product_url&#34;</span>: <span style="color:#e6db74">&#34;https://securityonion.net/&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;registry_version&#34;</span>: <span style="color:#ae81ff">3</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;stable&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;maintainer&#34;</span>: <span style="color:#e6db74">&#34;Brent Stewart&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;maintainer_email&#34;</span>: <span style="color:#e6db74">&#34;brent@stewart.tc&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;usage&#34;</span>: <span style="color:#e6db74">&#34;Your default account will have sudo priviledges.  Squil and Squert username and password are configured in the Setup wizard.  MySQL root is set to null.  For more info see https://github.com/Security-Onion-Solutions/security-onion/wiki/Passwords.&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;symbol&#34;</span>: <span style="color:#e6db74">&#34;securityonion-logo.png&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;qemu&#34;</span>: {  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;adapter_type&#34;</span>: <span style="color:#e6db74">&#34;e1000&#34;</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;adapters&#34;</span>: <span style="color:#ae81ff">2</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;ram&#34;</span>: <span style="color:#ae81ff">3072</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;arch&#34;</span>: <span style="color:#e6db74">&#34;x86_64&#34;</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;console_type&#34;</span>: <span style="color:#e6db74">&#34;vnc&#34;</span>,  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;kvm&#34;</span>: <span style="color:#e6db74">&#34;allow&#34;</span>  
</span></span><span style="display:flex;"><span>    },  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;images&#34;</span>: [  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;securityonion-16.04.7.1.iso&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;16.04.7.1&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;md5sum&#34;</span>: <span style="color:#e6db74">&#34;6bd811a05c1ec7973b8fca5c34cec13e&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filesize&#34;</span>: <span style="color:#ae81ff">2132803584</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;direct_download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/download/v16.04.7.1_20181010/securityonion-16.04.7.1.iso&#34;</span>  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;securityonion-16.04.6.1.iso&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;16.04.6.1&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;md5sum&#34;</span>: <span style="color:#e6db74">&#34;ca835cef92c2c0daafa16e789c343d1d&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filesize&#34;</span>: <span style="color:#ae81ff">2020605952</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;direct_download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/download/v16.04.6.1_20181010/securityonion-16.04.6.1.iso&#34;</span>  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;securityonion-14.04.5.4.iso&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;14.04.5.4&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;md5sum&#34;</span>: <span style="color:#e6db74">&#34;9c7cab756b675beb10de4274a3ad3bc6&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filesize&#34;</span>: <span style="color:#ae81ff">1874853888</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;direct_download_url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/Security-Onion-Solutions/security-onion/releases/download/v14.04.5.4_20171031/securityonion-14.04.5.4.iso&#34;</span>  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;empty30G.qcow2&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;1.0&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;md5sum&#34;</span>: <span style="color:#e6db74">&#34;3411a599e822f2ac6be560a26405821a&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;filesize&#34;</span>: <span style="color:#ae81ff">197120</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;download_url&#34;</span>: <span style="color:#e6db74">&#34;https://sourceforge.net/projects/gns-3/files/Empty%20Qemu%30disk/&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;direct_download_url&#34;</span>: <span style="color:#e6db74">&#34;https://sourceforge.net/projects/gns-3/files/Empty%20Qemu%20disk/empty30G.qcow2/download&#34;</span>  
</span></span><span style="display:flex;"><span>        }  
</span></span><span style="display:flex;"><span>    ],  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;versions&#34;</span>: [  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;16.04.7.1&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;images&#34;</span>: {  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;hda_disk_image&#34;</span>: <span style="color:#e6db74">&#34;empty30G.qcow2&#34;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cdrom_image&#34;</span>: <span style="color:#e6db74">&#34;securityonion-16.04.7.1.iso&#34;</span>  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;16.04.6.1&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;images&#34;</span>: {  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;hda_disk_image&#34;</span>: <span style="color:#e6db74">&#34;empty30G.qcow2&#34;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cdrom_image&#34;</span>: <span style="color:#e6db74">&#34;securityonion-16.04.6.1.iso&#34;</span>  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        },  
</span></span><span style="display:flex;"><span>        {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;14.04.5.4&#34;</span>,  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;images&#34;</span>: {  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;hda_disk_image&#34;</span>: <span style="color:#e6db74">&#34;empty30G.qcow2&#34;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cdrom_image&#34;</span>: <span style="color:#e6db74">&#34;securityonion-14.04.5.4.iso&#34;</span>  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>        }  
</span></span><span style="display:flex;"><span>]  
</span></span><span style="display:flex;"><span>}  
</span></span></code></pre></div><h2 id="testing">Testing</h2>
<p>In GNS3, go to File &gt; Import Appliance and make sure that your appliance imports correctly.  GNS3 will provide guidance if there&rsquo;s a formatting error.  Looking at the JSON above, you can imagine that a common mistake is unmatched brackets!</p>
<p>If the GNS3a file loads, test it by creating an instance.  You need to test at least any new versions you added.  Make sure the appliance boots without error and that expected interfaces are available.</p>
<h2 id="submit-a-pull-request">Submit a Pull Request</h2>
<p>Once the pieces are working, submit the appliance to the community by cloning the GNS3-registry on Github and adding in your file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/GNS3/gns3-registry.git
</span></span></code></pre></div><p>If you&rsquo;ve <em>already</em> cloned it, make sure that your branch is up to date.  <em>Upstream</em> is the original source (in this case the GNS3 copy).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git fetch upstream  
</span></span></code></pre></div><p>Two Python programs are included in the repo.  Run them both on your copy before continuing.  These are QA processes that look for issues before you submit.  They <em>will</em> take a little time to run.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install -r requirements.txt   <span style="color:#75715e"># this does __pip3 install jsonschma__ and __pip3 install pycurl__  </span>
</span></span><span style="display:flex;"><span>python3 check.py  
</span></span><span style="display:flex;"><span>python3 check_url.py  
</span></span></code></pre></div><p>Next push your local copy to your github copy.  In Github terms, <em>origin</em> is your copy on Github, and <em>master</em> is the local copy.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git add .  
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Updated Security Onion&#34;</span>  
</span></span><span style="display:flex;"><span>git push -f origin master
</span></span></code></pre></div><p>Now we have an up to date local copy of the gns3-registry that includes our updated gns3a appliance and we&rsquo;ve updated our fork on Github.  Next, we offer our update to the project via a <em>Pull Request</em>.  You are going to be one of the cool kids!
<img src="/PullRequest.png#center" alt="Pull Request">
Go to the gns3-registry repository on Github and select the Pull Requests tab and click the big green <strong>New pull request</strong> button. Under Compare, select the link to <em>compare across forks</em> (since your copy is a fork) and select your fork.  It should show you the changes to files so take a moment to digest that and make sure this PR is doing what you want.  Finally, submit the Pull Request.  Github will email you when there&rsquo;s an update to the request.  If the GNS3 team has a question, they&rsquo;ll submit a comment on the PR and leave it open for you to resolve.  Otherwise, it will get merged in and all the other GNS3 users will be able to enjoy your hard work!</p>
<p>Thanks!</p>
</p>
  <br>
  <hr>
  <h6>
    <strong>References:<br></strong> &nbsp&nbsp<a href="https://securityonion.net/">https://securityonion.net/</a><br> &nbsp&nbsp<a href="https://github.com/GNS3/gns3-registry">https://github.com/GNS3/gns3-registry</a><br> &nbsp&nbsp<a href="https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request">https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request</a><br> 
    
    <strong>&nbsp&nbsp<a href="https://github.com/brentstewart/gns3-registry">Nextpertise on Github</a><br></strong>
    <br>
    Recent articles related to these tags:
    
      
        <a href="/tags/gns3/">GNS3</a> 
       
        <a href="/tags/git/">Git</a> 
       
    
    <ul style="list-style: none;">
      
      <li class="relatedPost">
        <a href="/posts/230121_gns3_proxmox/">Running GNS3 on Proxmox VE</a><br />
        
      </li>
    
      <li class="relatedPost">
        <a href="/posts/210421_gns3_attached_to_esxi/">GNS3 Attached to ESXi</a><br />
        
      </li>
    
      <li class="relatedPost">
        <a href="/posts/210417_connecting_gns3/">Connecting GNS3 to Real Networks</a><br />
        
      </li>
    
      <li class="relatedPost">
        <a href="/posts/210215_network_templates/">New Project - Testing <em>Every</em> GNS3 Network Appliance</a><br />
        
      </li>
    
      <li class="relatedPost">
        <a href="/posts/210219_gns3_2.2.18/">GNS3 2.2.18</a><br />
        
      </li>
    
  </ul>
<br>


    
Share this article:&NonBreakingSpace;
  <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
  <script type="IN/Share" data-url="/posts/200902_updatinggns3appliances/"></script>&NonBreakingSpace;
  <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</h6>
  <script
    async
    src="https://utteranc.es/client.js"
    repo="brentstewart/nextpertise"
    issue-term="title"
    theme="github-light"
    crossorigin="anonymous"></script>
  
    <div class="nav" style="position:fixed; color: white; background-color:lightgray; bottom:0px; text-align:center; width:100%">
     <nav class ="sidebar-nav"><a href="/">Updating a GNS3 Appliance File</a></nav>
</div>
  </body>
  </html>
