<!doctype html>
  <html lang="en">
  <head itemscope itemtype="https://nextpertise.net/">
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-173443199-1');
      </script>
    <title>Nextpertise Tower of Hanoi Backup Strategy - a personal journal of interesting ideas</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/style.css">
    <link rel="icon" href="/n.ico">
    <meta http-equiv="content-type" content="text/html; charset=windows-1252">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-173443199-1"></script>
    


  </head>
  <body>
    <link rel="stylesheet" href="https://nextpertise.net/bootstrap-table.css">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Nextpertise is a journal of interesting ideas: When I was getting started in IT in the late 80s, my mentor taught me the most effecient way to handle backup tapes. He called it the &ldquo;Tower of Hanoi&rdquo; strategy.">
    <meta name="keywords" content="basics,Algorithm" />
    <meta name="twitter:card" content="">
    <meta property="og:title" content="Tower of Hanoi Backup Strategy" >
    <meta property="og:url" content="https://nextpertise.net/posts/220506_tower_of_hanoi/" >
    <meta property="og:description" content="" >
    <meta property="og:image" content="https://nextpertise.net/non-technical.png" >
    <link rel="apple-touch-icon" href="https://nextpertise.net/non-technical.png" >
    <link rel="stylesheet" href="https://nextpertise.net/style.css" >
</head>
<div class="tags"><img src="https://nextpertise.net/nextpertise_rays.png" alt="Nextpertise" height="75" > <i>a journal of interesting technical ideas . . .</i></div>
<div class="nav"style="text-align: left">
  <nav class="sidebar-nav">
    
    
      <a class="sidebar-nav-item" href="/" title="">Home</a>
    
      <a class="sidebar-nav-item" href="/tags/" title="">TagCloud</a>
    
      <a class="sidebar-nav-item" href="/posts/" title="">Archives</a>
    
      <a class="sidebar-nav-item" href="https://stewart.tc/" title="">Personal</a>
    
      <a class="sidebar-nav-item" href="https://stewart.tc/reading/" title="">Reading</a>
    
      <a class="sidebar-nav-item" href="https://github.com/brentstewart" title="">Github</a>
    
      <a class="sidebar-nav-item" href="/contributors" title="">About</a>
    
    &NonBreakingSpace;Find us on:&NonBreakingSpace;
    <a href="https://nextpertise.net/index.xml"><img src="/Feed-icon.png" alt="RSS" height="25" ></a>
    <a href="https://www.linkedin.com/company/nextpertise"><img src="/linkedin.png" alt="LinkedIn" height="25" ></a>
    
  </div>

    
<img src="/n.png#floatright" height="140">
<h1>Tower of Hanoi Backup Strategy</h1> 
  <h6><div style="text-align: right"><i>by Brent Stewart</a>  on Friday, May 6, 2022</i><br></div></h6>
  <p><p>When I was getting started in IT in the late 80s, my mentor taught me the most effecient way to handle backup tapes.  He called it the &ldquo;Tower of Hanoi&rdquo; strategy.  This has come up in various contexts through the years, and I&rsquo;ve had to explain it.  I thought it might be interesting, particularly to younger professionals, to understand the problem and how it was solved using this algorithm.  Who knows? Maybe there will be a new application you run across!</p>
<h2 id="understanding-the-game">Understanding the Game</h2>
<p><img src="/220506_Tower_of_Hanoi.png#floatsmallright" alt="Tower of Hanoi">
The game involves three pegs.  One peg has three rings of increasing size.  The objective is to move the stack from peg one to peg two.  The rules are that you can only move one ring at a time and smaller rings always have to sit on larger rings.</p>
<p>The solution is to move the red ring to peg 2, green to 3, and red to 2 (this puts the top two rings on peg 3).  Move the blue ring to 2, red to 1, green to two, and red to 2.  Bingo!</p>
<p>Analyzing the pattern though, you find that every other move is the smallest ring.  Every other other move is the mid-sized green ring.  Every other other other move is the largest ring.</p>
<h2 id="understanding-the-problem">Understanding the Problem</h2>
<p>In those days we backed up to tape.  In 2022, we still use tape sometimes.  I setup a ToH strategy using USB sticks at church.  These days it could be your cloud backup retention strategy.  Whatever the media, we want to use the fewest number (of tapes or sticks or whatever) to minimize costs, while being able to have the most up-to-date backup covering the longest period of time.</p>
<p>Say a file became corrupted after a week.  Ideally, you&rsquo;d want to go back through your backups and find the last one before the corruption and restore the file to make sure you had the most recent version of the file.</p>
<p>A popular strategy in the 80s was to have one tape for each day of the week and one tape for each week of the month.  Thus at any time you used nine tapes and had backups that were something like 1 day, 2 days, 3, 4, 5, and 7 days, plus tapes that were two weeks, three weeks,and four weeks old.</p>
<h2 id="understanding-the-solution">Understanding the Solution</h2>
<p>JD taught me the Tower of Hanoi strategy as a better solution.  In this strategy, every other day you use tape 1.  Of the remaining days, every other day you use tape 2.  YOu continue this recursive pattern until you&rsquo;ve used all your tapes.  With six tapes, you end up with ages 1 day, 2 days, 4 days, 8 days, 16 days, and 32 days.  This strategy consumes fewer media and covers an arbitrarily long period in a rational way.</p>
<p>In the illustration, the most current tape is on the left and the oldest on the right.  Notice the recursive pattern of tape rotation.  Tapes are reused on a regular pattern, so I&rsquo;ve marked the most recent tape to illustrate the rage of dates covered by this method.</p>
<p><img src="/220506_ToHTapes.png" alt="Tower of Hanoi Tape Rotation"></p>
<h2 id="using-the-algorithm-in-the-real-world">Using the Algorithm in the real world</h2>
<p>This is an efficient and rational way to commit the few resources to retain a long range of backups.  I like it a lot and it&rsquo;s a common approach I take.  However, I&rsquo;ve found that trying to explain this to non-technical folks is casting pearls before swine.  My advice: tell them to buy more tapes.</p>
<p>All that said, throughout my career it&rsquo;s been true that concepts recycle on a predictable basis and what&rsquo;s old is new again.  Understanding some of these ideas has a way of paying off eventually.</p>
<p>It&rsquo;s also true that I owe my long career to a mentor who took an interest in a younger me.  I&rsquo;m blessed that I get to see him occassionally to this day.  I&rsquo;ll never be able to repay him, but I try to pay it forward a little bit at a time.</p>
</p>
  <br>
  <hr>
  <h6>
    <strong>References:<br></strong> &nbsp&nbsp<a href=""></a><br> 
    
    
    <br>
    Recent articles related to these tags:
    
      
        <a href="/tags/basics/">basics</a> 
       
    
    <ul style="list-style: none;">
      
  </ul>
<br>


    
Share this article:&NonBreakingSpace;
  <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
  <script type="IN/Share" data-url="/posts/220506_tower_of_hanoi/"></script>&NonBreakingSpace;
  <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</h6>
  <script
    async
    src="https://utteranc.es/client.js"
    repo="brentstewart/nextpertise"
    issue-term="title"
    theme="github-light"
    crossorigin="anonymous"></script>
  
    <div class="nav" style="position:fixed; color: white; background-color:lightgray; bottom:0px; text-align:center; width:100%">
     <nav class ="sidebar-nav"><a href="/">Tower of Hanoi Backup Strategy</a></nav>
</div>
  </body>
  </html>
