<!doctype html>
  <html lang="en">
  <head itemscope itemtype="https://nextpertise.net/">
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-173443199-1');
      </script>
    <title>Nextpertise Czkawka - a personal journal of interesting ideas</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/style.css">
    <link rel="icon" href="/n.ico">
    <meta http-equiv="content-type" content="text/html; charset=windows-1252">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-173443199-1"></script>
    


  </head>
  <body>
    <link rel="stylesheet" href="https://nextpertise.net/bootstrap-table.css">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Nextpertise is a journal of interesting ideas: Czkawka is a &ldquo;simple, fast, and free app to remove unnecessary files&rdquo;. I heard it mentioned on one of the Jupiter Broadcasting shows and decided to look into it.">
    <meta name="keywords" content="linux,Czkawka" />
    <meta name="twitter:card" content="">
    <meta property="og:title" content="Czkawka" >
    <meta property="og:url" content="https://nextpertise.net/posts/210926_czkawka/" >
    <meta property="og:description" content="" >
    <meta property="og:image" content="https://nextpertise.net/non-technical.png" >
    <link rel="apple-touch-icon" href="https://nextpertise.net/non-technical.png" >
    <link rel="stylesheet" href="https://nextpertise.net/style.css" >
</head>
<div class="tags"><img src="https://nextpertise.net/nextpertise_rays.png" alt="Nextpertise" height="75" > <i>a journal of interesting technical ideas . . .</i></div>
<div class="nav"style="text-align: left">
  <nav class="sidebar-nav">
    
    
      <a class="sidebar-nav-item" href="/" title="">Home</a>
    
      <a class="sidebar-nav-item" href="/tags/" title="">TagCloud</a>
    
      <a class="sidebar-nav-item" href="/posts/" title="">Archives</a>
    
      <a class="sidebar-nav-item" href="https://stewart.tc/" title="">Personal</a>
    
      <a class="sidebar-nav-item" href="https://stewart.tc/reading/" title="">Reading</a>
    
      <a class="sidebar-nav-item" href="https://github.com/brentstewart" title="">Github</a>
    
      <a class="sidebar-nav-item" href="/contributors" title="">About</a>
    
    &NonBreakingSpace;Find us on:&NonBreakingSpace;
    <a href="https://nextpertise.net/index.xml"><img src="/Feed-icon.png" alt="RSS" height="25" ></a>
    <a href="https://www.linkedin.com/company/nextpertise"><img src="/linkedin.png" alt="LinkedIn" height="25" ></a>
    
  </div>

    
<img src="/linux.png#floatright" height="140">
<h1>Czkawka</h1> 
  <h6><div style="text-align: right"><i>by Brent Stewart</a>  on Sunday, Sep 26, 2021</i><br></div></h6>
  <p><p>Czkawka is a &ldquo;simple, fast, and free app to remove unnecessary files&rdquo;.  I heard it mentioned on one of the Jupiter Broadcasting shows and decided to look into it.</p>
<p><img src="/210924_Czkawka.png#floatsmallleft" alt="Czkawka logo"></p>
<p>I have a server that I map folders to using NFS or SFTP that has a lot of accumulated junk.  I&rsquo;ve got twenty plus years of kids pictures, and as the computer expert in the family I&rsquo;m expected to protect these like crown jewels.  However, backing up pictures all the time leads to a lot of duplicates.  I also keep all my the family files there - school, work, personal, hobbies - and there ends up being a lot of duplication there as well.  Not only are duplicate files a problem for local storage, but I pay to back (not much) it all up to Backblaze B2.  Czkawka would be a big help if it helped me sort all those files and conserve space.</p>
<h2 id="installation">Installation</h2>
<p>Czkawka is available as an AppImage file from Github.  I&rsquo;m using version 3.2 to test.</p>
<p>AppImages are a way of distributing Linux applications can run on any distro - they include all the dependencies so it&rsquo;s as easy as download and run.  They are similar to snaps or flatpaks.  They can run from anywhere, so I tend to try them out in my Download directory and then organize them in an &ldquo;~/Apps&rdquo; directory if I decide to keep them.</p>
<p>After downloading, you may need to make the file executable.</p>
<pre><code>chmod +x linux_czkawka_gui.AppImage
</code></pre>
<h2 id="usage">Usage</h2>
<p>Once the program starts, there are four buttons across the top to focus a Czkawka search.  They are &ldquo;included&rdquo; and &ldquo;excluded&rdquo; directories, &ldquo;excluded items&rdquo;, and &ldquo;allowed extensions&rdquo;.  The first three are obvious, the last is used to limit searches by type (ZIP files, for instance).  Once a set of directories and files is described, the &ldquo;search&rdquo; button in the lower left starts the process.</p>
<p>I started by adding the ~/Downloads directory and searching for duplicates.  This turned up a few examples of duplicates which it helpfully grouped.  Using the program was a bit non-intuitive - you can&rsquo;t just click on a file and delete it.  Instead, you use the <strong>select</strong> button at the bottom of the window and have a variety of options to select the oldest, newest, or custom.  Czkawka doesn&rsquo;t really let you interact at the file level but at the summary level and the idea is that you&rsquo;d select all the dups to be deleted in a big set based on some criteria like age.  Custom let&rsquo;s you select duplicates by file path or a pattern in the name.  Once you&rsquo;ve selected a set you can choose the Delete button to remove them.
<img src="/210924_Czkawka_example.png#floatsmallleft" alt="Czkawka logo"></p>
<p>Since I&rsquo;m not sure about deleting a whole bunch of files, I used &ldquo;select one oldest&rdquo; to pick individual files for deletion.  This was tedious, but at least the process was under my control.  It would have been nice to use the check box on the side to pick the ones I wanted to delete, but the interface isn&rsquo;t oriented that way.  Czkawka <em>does</em> organize the list by size, so you can start at the top to maximize the time spent on freeing up space.</p>
<h2 id="more-than-just-duplicates">More than just duplicates</h2>
<p>Czkawka does more than just find duplicate files.  It will also search for a variety of errors.</p>
<p><em>Empty directories</em> is pretty obvious, but I was surprised how many orphaned folder&rsquo;s I&rsquo;d left moving things around.  This process was simple, I selected all, and it remove them.  It will also search for <em>Empty Files</em> (zero bytes), which again surprised me by finding examples.  <em>Zeroed Files</em> (those filled with zeros) didn&rsquo;t turn up anything in my test set.</p>
<p><em>Invalid Symlink</em> will catch things where the referenced file isn&rsquo;t present.  Because I mount remote file systems, I decided not to pursue this for fear it was giving false positives (maybe the mapping was just down).  <em>Broken files</em> are those that show corruption.  This found a number of files in my Download directory.  This could be flagging corruption or an unsupported format.  Because of the number of hits and the nature of what was being called out, I decided to defer removing these to look into further.</p>
<p>It will look for big files.  My current use case didn&rsquo;t include this, but I verified it worked.  This could be very useful in some administrative situations where a database or a log file has eaten available free space.  I might run this occasionally just to identify any runaway inflation (or the things that are causing it).</p>
<p><em>Temporary Files</em> looks for a variety of extensions including: #, thumbs.db, *.bak, *.temp, *.ds_store, *.crdownload, *.download, *.part, *.cache, *.dmp, and *.partial.</p>
<p>The most fascinating option was to look for <em>similar images</em>.  This option uses a perceptual hash to look for images that may differ in resolution or cropping.  This worked really well.  I found cases where we had saved cropped images and was able to delete the extra versions.  <em>Music Duplicates</em> uses tags to perform a similar analysis.  Here I would have appreciated details, such as the different encoding used.</p>
<h2 id="speed">Speed</h2>
<p>Czkawka is billed as fast.  My testing mostly backed this up.  On a local disk, searches ran seconds.  It took longer to process a directory over SFTP, for instance, although this would be expected.</p>
<p>I developed a couple ideas about how to best handle these situations.  First, I suggest installing the application on the file server and running it locally.  My file server is headless, but Czkawka has a command line version for just such situations.  Second, try reducing the size of the search field.  Use subdirectory to limit it, for instance.  Third, I suggest running some of the quicker scans (like &ldquo;empty files&rdquo;) first to reduce the size of the dataset.</p>
<p>At one point I was searching through a hundred thousand remote files.  As you might expect, the search took a few minutes.</p>
<h2 id="conclusions">Conclusions</h2>
<p>I liked it and plan to keep using it.</p>
<p>Any time I look at a Linux program, I remember that it is being developed and freely offered to the community.  The people behind these projects need to be celebrated and appreciated.  That said, not everything on GitHub is &ldquo;fully baked&rdquo;.</p>
<p>I&rsquo;m pleased to report that Czkawka is a well thought out and reasonably fast program that does what I expected - it helps me &ldquo;weed the garden&rdquo; on my file server and remove the detritus.  I&rsquo;m not crazy about the file selection process and I recommend that you bring up a file manager to compare with the Czkawka searches to make sure you understand what it is finding.  <em>Anytime</em> you are dealing with a mass deletion program you want to be extra careful!  But the results made sense to me.  I didn&rsquo;t delete everything it nominated, but I was able to save a lot of space in the end.</p>
</p>
  <br>
  <hr>
  <h6>
    <strong>References:<br></strong> &nbsp&nbsp<a href="https://qarmin.github.io/czkawka/">https://qarmin.github.io/czkawka/</a><br> 
    
    
    <br>
    Recent articles related to these tags:
    
      
        <a href="/tags/linux/">linux</a> 
       
    
    <ul style="list-style: none;">
      
      <li class="relatedPost">
        <a href="/posts/230819_nvidia535/">NVidia 5.35 Update</a><br />
        Update on NVidia 5.35
      </li>
    
      <li class="relatedPost">
        <a href="/posts/230910_terminal_weather/">Terminal Weather</a><br />
        Pulling weather from the command line
      </li>
    
      <li class="relatedPost">
        <a href="/posts/230909_python_on_pop/">Python on Pop</a><br />
        Pop! OS hasn&rsquo;t been updated in a while and python is getting long in the tooth.
      </li>
    
      <li class="relatedPost">
        <a href="/posts/230819_nvidia535-copy/">NVidia 5.35 Warning</a><br />
        Beware of NVidia 5.35
      </li>
    
      <li class="relatedPost">
        <a href="/posts/230706_remoteaccessthw/">Remote access - The Hard Way</a><br />
        Remote access via Cheese
      </li>
    
  </ul>
<br>


    
Share this article:&NonBreakingSpace;
  <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
  <script type="IN/Share" data-url="/posts/210926_czkawka/"></script>&NonBreakingSpace;
  <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</h6>
  <script
    async
    src="https://utteranc.es/client.js"
    repo="brentstewart/nextpertise"
    issue-term="title"
    theme="github-light"
    crossorigin="anonymous"></script>
  
    <div class="nav" style="position:fixed; color: white; background-color:lightgray; bottom:0px; text-align:center; width:100%">
     <nav class ="sidebar-nav"><a href="/">Czkawka</a></nav>
</div>
  </body>
  </html>
